{"version":3,"sources":["firebase.js","components/AñadirToma.jsx","components/TomaFueraTiempo.jsx","components/Toma.jsx","components/ViewCalendar.jsx","images/no-confirmada.png","images/confirmada.png","components/Cuidador.jsx","components/EditarCliente.jsx","components/InfoCliente.jsx","context/DatosCliente.js","context/DatosCuidador.js","components/Login.jsx","components/Navbar.jsx","components/NuevoPaciente.jsx","components/AditionalInfoCustomer.jsx","components/AlertTomas.jsx","components/AlertaZona.jsx","components/Cliente.jsx","components/NotFound.jsx","components/Historial.jsx","components/SimpleMap.jsx","images/marca.png","components/ZonaControl.jsx","images/esfigmomanometro-de-bolsillo.jpg","components/infoMedidas/InfoPresion.jsx","components/infoMedidas/InfoGlucosa.jsx","components/InfoCAS.jsx","images/cliente.png","images/cuidador.png","components/Mensajeria.jsx","components/Medicamentos.jsx","App.jsx","index.js"],"names":["url","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","withRouter","props","superagent","require","React","useState","Date","fecha","setFecha","hora","setHora","medicamento","setMedicamento","cantidad","setCantidad","mensaje","setMensaje","numDiario","setNumDiario","diff","setDiff","medicamentos","setMedicamentos","useEffect","currentUser","a","urlFinal","uid","fetch","response","json","responseJSON","console","log","fetchApi","history","push","idCliente","useParams","crearToma","post","send","confirmada","then","onSubmit","e","preventDefault","className","placeholder","type","onChange","target","value","id","disabled","length","map","nombre","parseInt","TomaFueraTiempo","error","valido","cuidado","toma","split","getMinutes","dia","mes","año","min","horaMin","setHoraMin","dateActual","setDateActual","fechaToma","getDate","getMonth","getFullYear","getHours","setToma","show","setShow","idToma","setIdToma","setConfirmada","clienteLocal","JSON","parse","localStorage","getItem","confirmarToma","setTimeout","res","window","location","replace","Alert","variant","Button","onClick","ViewCalendar","tomasDia","setTomasDia","tomas","setTomas","fechaCOM","setFechaCOM","pendientes","setPendientes","formatearFecha","year","month","day","buscarToma","dateSelected","daySelected","monthSelected","yearSelected","cliente","filter","t","tileContent","date","view","find","align","src","alt","defaultView","onClickDay","event","cuidador","to","onClose","dismissible","index","clientes","setClientes","selected","setSelected","idCuidador","cargarClientes","apellidos","select","slice","verCalendario","undefined","info","peso","presionMax","presionMin","glucosa","email","setNombre","setApellidos","direccion","setDireccion","codPostal","cp","setCP","ciudad","setCiudad","edad","setEdad","emailPaciente","setEmailPaciente","pass","setPass","descripcion","setDescripcion","tlf","telf","setTelf","editarCliente","idcliente","clienteCargado","setClienteCargado","showEdit","setShowEdit","borrarCliente","delete","htmlFor","ClienteContext","createContext","DatosCliente","setCliente","Provider","actualizarCliente","valor","setItem","stringify","clear","children","CuidadorContext","DatosCuidador","setCuidador","cuidadorLocal","actualizarCuidador","setEmail","setError","esRegistro","setEsRegistro","useContext","cargarCuidador","useCallback","loginCliente","hash","md5","login","signInWithEmailAndPassword","code","registrar","createUserWithEmailAndPassword","trim","ruta","exact","firebaseUser","signOut","user","setUsert","uuidv4","text","infoAdicional","setInfoAdicional","setPeso","presionSanguineaMax","setPresionSanguineaMax","presionSanguineaMin","setPresionSanguineaMin","setGlucosa","glucosaBaja","glucosaAlta","tensionBaja","tensionAlta","glucosaTensionAltas","glucosaTensionBajas","añadirDatos","AlertTomas","tomasNC","setTomasNC","AlertaZona","superada","Cliente","currentPosition","setCurrentPosition","errorDistancia","setErrorDistancia","setSuperada","numNoLeidos","setNumNoLeidos","navigator","geolocation","getCurrentPosition","position","coords","cargarInfo","m","cargarMensajesNoLeidos","zonacontrol","lat1","lon1","lat2","lon2","rad","x","Math","PI","dLat","dLong","sin","cos","atan2","sqrt","toFixed","getKilometros","latitude","longitude","lat","lng","radio","href","NotFound","historial","setHistorial","ImgComponent","width","y","coordenadas","setCoordenas","marcado","setMarcado","setRadio","defaultProps","center","zoom","confirmarZona","style","height","bootstrapURLKeys","key","language","defaultCenter","defaultZoom","ZonaControl","InfoPresion","esfigmomanometro","InfoGlucosa","InfoCAS","Mensajeria","mensajes","setMensajes","cargarMsg","sendMessage","msg","imgCliente","imgCuidador","substr","Medicamentos","nombreMed","setNombreMed","descMed","setDescMed","cargarMedicamentos","ingresarMedicamento","idMed","borrarMedicina","medicina","App","setFirebaseUser","onAuthStateChanged","path","InfoCliente","options","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","ReactDOM","render","StrictMode","template","AlertTemplate","document","getElementById"],"mappings":"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","file":"static/js/main.81b7c9da.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst url = \"https://us-central1-cas-ofi.cloudfunctions.net/expressApi/\"\r\n\r\n  //configuramos la conexion de la base de datos mediante API\r\n  const firebaseConfig = {\r\n    apiKey: \"AIzaSyCtlqwnW5kj2EUdLMgx2CpHDcx_Qacv6qI\",\r\n    authDomain: \"cas-ofi.firebaseapp.com\",\r\n    projectId: \"cas-ofi\",\r\n    storageBucket: \"cas-ofi.appspot.com\",\r\n    messagingSenderId: \"501713199929\",\r\n    appId: \"1:501713199929:web:cf06958a1414a228267ee8\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n\r\nconst db = firebase.firestore()\r\nconst auth = firebase.auth()\r\n\r\nexport {db, auth, url}","import React from 'react'\r\nimport {auth, url} from '../firebase'\r\nimport {withRouter, useParams} from 'react-router-dom'\r\n\r\nconst AñadirToma = (props) => {\r\n    const superagent = require('superagent');\r\n\r\n    const [fecha, setFecha] = React.useState(new Date())\r\n    const [hora, setHora] = React.useState(\"00:00\")\r\n    const [medicamento, setMedicamento] = React.useState(\"\")\r\n    const [cantidad, setCantidad] = React.useState(0)\r\n    const [mensaje, setMensaje] = React.useState(\"\")\r\n    const [numDiario, setNumDiario] = React.useState(\"\")\r\n    const [diff, setDiff] = React.useState(0)\r\n    const [medicamentos, setMedicamentos] = React.useState([])\r\n    //const [diasSelected, setdiasSelected] = React.useState(new Array(dias.length).fill(false))\r\n\r\n\r\n    React.useEffect(() => {\r\n        if(auth.currentUser){\r\n            const fetchApi = async () => {\r\n                const urlFinal = url + auth.currentUser.uid + \"/medicamentos\"\r\n                try {\r\n                    const response = await fetch(urlFinal)\r\n                    const responseJSON = await response.json()\r\n                    if(responseJSON){\r\n                        setMedicamentos(responseJSON)\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            fetchApi()\r\n            return (() => {\r\n            })\r\n        }else{\r\n            console.log('No existe usuario')\r\n            props.history.push('/login')\r\n        }\r\n    }, [props.history]) \r\n\r\n    const procesarRegistro = e => {\r\n        e.preventDefault()//evita las redirecciones get por defecto\r\n        crearToma()\r\n        props.history.push('/cuidador')\r\n    }\r\n\r\n    const {idCliente} = useParams()\r\n\r\n    const crearToma = async() => {\r\n        const urlFinal = url + \"anadir-toma\"\r\n        try{\r\n            await superagent.post(urlFinal)\r\n                .send({ \r\n                    hora: hora,\r\n                    fecha: fecha,\r\n                    medicamento: medicamento,\r\n                    cantidad: cantidad,\r\n                    mensaje: mensaje,\r\n                    confirmada: false,\r\n                    idCliente: idCliente,\r\n                    numDiario: numDiario,\r\n                    diff: diff\r\n                })\r\n                .then(() => {\r\n                    props.history.push('/cuidador')\r\n            })\r\n        } catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <form data-testid=\"form-at\" onSubmit={procesarRegistro} key=\"f1\">\r\n                <label key=\"l1\" className=\"text-info\">Fecha de la toma</label> \r\n                <input \r\n                    key=\"i1\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Ingrese ua fecha\"\r\n                    type=\"date\"\r\n                    onChange={e => setFecha(e.target.value)}\r\n                    value={fecha}\r\n                />\r\n                <p/>\r\n                <label key=\"l2\" className=\"text-info\">Hora de la toma</label>\r\n                <input \r\n                    key=\"i2\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Ingrese apellidos\"\r\n                    type=\"time\"\r\n                    onChange={e => setHora(e.target.value)}\r\n                    value={hora}\r\n                />\r\n                <p/>\r\n                <label key=\"l3\" className=\"text-info\">Medicamento</label>\r\n                <div className=\"input-group mb-3\">\r\n                    <select onChange={e => setMedicamento(e.target.value)} value={medicamento} className=\"custom-select\" id=\"inputGroupSelect01\">\r\n                        <option disabled value=\"\">Elige un medicamento</option>\r\n                        {medicamentos.length > 0 ? (\r\n                            medicamentos.map((value) => {\r\n                                return <option key={value.nombre} value={value.nombre}>\r\n                                    {value.nombre}\r\n                                </option>\r\n                            })\r\n                        ):null}\r\n                    </select>\r\n                </div>\r\n\r\n                <p/>\r\n                <label key=\"l4\" className=\"text-info\">Cantidad o dosis</label>\r\n                <input \r\n                    key=\"i4\"\r\n                    className=\"form-control\"\r\n                    type=\"number\"\r\n                    placeholder=\"Ingrese la cantidad o la dosis de la toma\"\r\n                    onChange={e => setCantidad(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                    value={cantidad}\r\n                />\r\n                <p/>\r\n                <label key=\"l5\" className=\"text-info\">Mensaje</label>\r\n                <input \r\n                    key=\"i5\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Ingrese un mensaje\"\r\n                    onChange={e => setMensaje(e.target.value)}\r\n                    value={mensaje}\r\n                />\r\n                <p/>\r\n                <label key=\"l6\" className=\"text-info\">Cuantas veces se repite al día</label>\r\n                <input \r\n                    key=\"i6\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por defecto, una vez\"\r\n                    onChange={e => setNumDiario(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                    value={numDiario}\r\n                />\r\n                <p/>\r\n                <label key=\"l7\" className=\"text-info\">Horas de diferencia entre cada toma</label>\r\n                <input \r\n                    key=\"i7\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por defecto, una vez\"\r\n                    onChange={e => setDiff(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                    value={diff}\r\n                />\r\n                <p/>\r\n                \r\n                <button className=\"btn btn-info btn-lg btn-block mt-2\" key=\"bt1\" type='submit'>\r\n                    Registrar Toma\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n//para pruebas\r\n//export default AñadirToma\r\n//para produccion\r\nexport default withRouter(AñadirToma)\r\n","import React from 'react'\r\n\r\nconst TomaFueraTiempo = (props) => {\r\n\r\n    const error = <div className=\"text-uppercase text-danger font-weight-bold\">Pasado el tiempo de la toma</div>\r\n    const valido = <div className=\"text-uppercase text-success font-weight-bold\">A tiempo para la toma</div>\r\n    const cuidado = <div className=\"text-uppercase text-warning font-weight-bold\">Solo quedan {props.toma.hora.split(\":\")[1] - (new Date().getMinutes())} minutos para la toma</div>\r\n\r\n    const [fecha, setFecha] = React.useState({\r\n        dia: \"\",\r\n        mes: \"\",\r\n        año: \"\"\r\n    })\r\n    const [horaMin, setHoraMin] = React.useState({\r\n        hora: \"\",\r\n        min: \"\"\r\n    })\r\n    const [dateActual, setDateActual] = React.useState({\r\n        dia: \"\",\r\n        mes: \"\",\r\n        año: \"\",\r\n        hora: \"\",\r\n        min: \"\"\r\n    })\r\n\r\n    React.useEffect(() => {\r\n        setFecha({\r\n            dia: props.fechaToma.split(\"-\")[2],\r\n            mes: props.fechaToma.split(\"-\")[1],\r\n            año: props.fechaToma.split(\"-\")[0]\r\n        })\r\n        setHoraMin({\r\n            hora: props.toma.hora.split(\":\")[0],\r\n            min: props.toma.hora.split(\":\")[1]\r\n        })\r\n        setDateActual({\r\n            dia: (new Date().getDate()),\r\n            mes: (new Date().getMonth()+1),\r\n            año: (new Date().getFullYear()),\r\n            hora: (new Date().getHours()),\r\n            min: (new Date().getMinutes())\r\n        })\r\n    }, [props.fechaToma, props.toma.hora])\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                (() => {\r\n                    if(fecha.año < dateActual.año)\r\n                        return error\r\n                    else\r\n                        if(fecha.mes < dateActual.mes && fecha.año <= dateActual.año)\r\n                            return error\r\n                        else\r\n                            if(fecha.dia < dateActual.dia && fecha.mes <= dateActual.mes)\r\n                                return error\r\n                            else\r\n                                if(horaMin.hora < dateActual.hora && fecha.dia <= dateActual.dia && fecha.mes <= dateActual.mes)\r\n                                    return error\r\n                                else\r\n                                    if(horaMin.min < dateActual.min && horaMin.hora <= dateActual.hora && fecha.dia <= dateActual.dia && fecha.mes <= dateActual.mes)\r\n                                        return error\r\n                                    else\r\n                                        if(dateActual.min - horaMin.min <= 30 && horaMin.min >= dateActual.min && horaMin.hora >= dateActual.hora && fecha.dia >= dateActual.dia && fecha.mes >= dateActual.mes)\r\n                                            return cuidado\r\n                                        else\r\n                                            return valido\r\n                })()\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TomaFueraTiempo\r\n","import React, { Fragment } from 'react'\r\nimport TomaFueraTiempo from './TomaFueraTiempo'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from 'react-bootstrap/Button'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {url} from '../firebase'\r\n\r\nconst Toma = (props) => {\r\n\r\n    const [toma, setToma] = React.useState({ \r\n        hora: \"\",\r\n        fecha: \"\",\r\n        medicamento: \"\",\r\n        cantidad: \"\",\r\n        mensaje: \"\",\r\n        confirmada: false,\r\n        id: \"\"\r\n    })\r\n    const [show, setShow] = React.useState(false);\r\n    const [idToma, setIdToma] = React.useState();\r\n    const [confirmada, setConfirmada] = React.useState()\r\n\r\n    const superagent = require('superagent');\r\n    const clienteLocal = JSON.parse(localStorage.getItem('sesionCliente')) || null\r\n\r\n    React.useEffect(() => {\r\n        setToma(props.toma)\r\n        setConfirmada(props.toma.confirmada)\r\n        return () => {\r\n            //limpieza\r\n        }\r\n    }, [props.toma, toma])\r\n\r\n    const confirmarToma = async() => {\r\n        const urlFinal = url + \"actualizar-toma\"\r\n        setIdToma(toma.id)\r\n        setShow(true)\r\n        setConfirmada(true)\r\n        if(!toma.confirmada){\r\n            try {\r\n                await superagent.post(urlFinal)\r\n                .send({ \r\n                        confirmada: true,\r\n                        idCliente: props.idCliente,\r\n                        idToma: toma.id\r\n                    })\r\n                .then(() => {\r\n                    setTimeout(res, 2000)\r\n            })\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }        \r\n    }\r\n\r\n    function res (){\r\n        window.location.replace('');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        { \r\n            toma ? (\r\n                <Fragment>\r\n                    <TomaFueraTiempo fechaToma={props.fecha} toma={props.toma}/>\r\n                    Medicamento: {toma.medicamento}\r\n                    <br/>\r\n                    Dosis: {toma.cantidad} {\" \"} unidades \r\n                    <br/>\r\n                    Hora de la toma: {toma.hora}\r\n                    <br/>\r\n                    Mensaje adjunto: {toma.mensaje}\r\n                    <br/>\r\n                    <div className= {\r\n                        !confirmada ? (\r\n                            \"font-weight-bold\"\r\n                        ): \"font-weight-bold text-success\"\r\n                    }>Toma confirmada: {!confirmada ? (\r\n                        \"no\"\r\n                    ): \"si\"\r\n                    }</div>\r\n                    <p/>\r\n                    <Alert show={show && toma.id === idToma} variant=\"success\">\r\n                        Has confirmado la toma\r\n                    </Alert>\r\n                    { ((clienteLocal === null && !toma.confirmada) || \r\n                        (clienteLocal !== null && !toma.confirmada && \r\n                        toma.fecha.split(\"-\")[2] >= new Date().getDate())) ? ( \r\n                        <Button onClick={() => confirmarToma(toma)}>\r\n                            Confirmar toma\r\n                        </Button>):null}\r\n                    <hr/>\r\n                </Fragment>\r\n            ):null\r\n        }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Toma)\r\n","import React, { Fragment } from 'react'\r\nimport Calendar from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport {Link} from 'react-router-dom'\r\nimport Toma from './Toma';\r\nimport tomaConfirmada from '../images/confirmada.png'\r\nimport tomaNoConfirmada from '../images/no-confirmada.png'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport {url} from '../firebase'\r\n\r\nconst ViewCalendar = (props) => {\r\n\r\n  const [value, onChange] = React.useState(new Date());\r\n  const [tomasDia, setTomasDia] = React.useState([])\r\n  const [tomas, setTomas] = React.useState([])\r\n  const [fechaCOM, setFechaCOM] = React.useState(new Date())\r\n  const [show, setShow] = React.useState(true)\r\n  const [pendientes, setPendientes] = React.useState([])\r\n\r\n  const formatearFecha = (year, month, day) => {\r\n    let fecha = \"\"\r\n    if(month<10){\r\n      fecha = year + '-0' + month\r\n    }else{\r\n      fecha = year + '-' + month\r\n    }\r\n    if(day<10){\r\n      fecha = fecha + '-0' + day\r\n    }else{\r\n      fecha = fecha + '-' + day\r\n    }\r\n    return fecha\r\n  }\r\n\r\n  const buscarToma = async (dateSelected) => {\r\n    const daySelected = dateSelected.getDate()\r\n    const monthSelected = dateSelected.getMonth()+1\r\n    const yearSelected = dateSelected.getFullYear()\r\n    const fecha = formatearFecha(yearSelected, monthSelected, daySelected)\r\n    setFechaCOM(fecha)\r\n\r\n    const urlFinal = url + props.cliente + \"/tomas/\" + fecha\r\n\r\n    const fetchApi = async () => {\r\n      try {\r\n          const response = await fetch(urlFinal)\r\n          const responseJSON = await response.json()\r\n          if(responseJSON){\r\n              setTomasDia(responseJSON)\r\n          }\r\n      } catch (error) {\r\n          console.log(error)\r\n      }\r\n    } \r\n    fetchApi()\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n    const urlFinal = url + props.cliente + \"/tomas/\"\r\n\r\n    const fetchApi = async () => {\r\n      try {\r\n          const response = await fetch(urlFinal)\r\n          const responseJSON = await response.json()\r\n          if(responseJSON){\r\n              setTomas(responseJSON)\r\n          }\r\n      } catch (error) {\r\n          console.log(error)\r\n      }\r\n    } \r\n    fetchApi()\r\n  },[props.cliente])\r\n\r\n  React.useEffect(() => {\r\n    setPendientes(tomas.filter(t=>!t.confirmada))\r\n  }, [tomas])\r\n  \r\n  return (\r\n    <div>\r\n      <div className=\"container mt-1\">\r\n            <div className=\"row\">\r\n              <div className=\"col-sm text-center\">\r\n              <h3 className=\"text-info text-left ml-4\">Revisa tus tomas</h3>\r\n                <div className=\"ml-4\">\r\n                  <Calendar\r\n                    tileContent={({ date, view }) => {\r\n                      if(tomas.find(t=>\r\n                        ((t.fecha.split(\"-\")[2].split(\"0\")[1]===date.getDate()+\"\" \r\n                        && t.fecha.split(\"-\")[1].split(\"0\")[1]===date.getMonth()+1+\"\"\r\n                        && t.fecha.split(\"-\")[0]===date.getFullYear()+\"\") \r\n                        || (t.fecha.split(\"-\")[2]===date.getDate()+\"\" \r\n                        && t.fecha.split(\"-\")[1].split(\"0\")[1]===date.getMonth()+1+\"\"\r\n                        && t.fecha.split(\"-\")[0]===date.getFullYear()+\"\")\r\n                        || (t.fecha.split(\"-\")[2]===date.getDate()+\"\" \r\n                        && t.fecha.split(\"-\")[1]===date.getMonth()+1+\"\"\r\n                        && t.fecha.split(\"-\")[0]===date.getFullYear()+\"\"))\r\n                        && !t.confirmada)){\r\n                        return <div>\r\n                                <b/>\r\n                                <img align=\"left\" src={tomaNoConfirmada} alt=\"no-confirmada\"/>\r\n                              </div>\r\n                      }else if(tomas.find(\r\n                        (t=>t.fecha.split(\"-\")[2].split(\"0\")[1]===date.getDate()+\"\"\r\n                        && t.fecha.split(\"-\")[1].split(\"0\")[1]===date.getMonth()+1+\"\"\r\n                        && t.fecha.split(\"-\")[0]===date.getFullYear()+\"\")\r\n                        || (t=>t.fecha.split(\"-\")[2]===date.getDate()+\"\"\r\n                        && t.fecha.split(\"-\")[1].split(\"0\")[1]===date.getMonth()+1+\"\"\r\n                        && t.fecha.split(\"-\")[0]===date.getFullYear()+\"\")\r\n                        || (t=>t.fecha.split(\"-\")[2]===date.getDate()+\"\"\r\n                        && t.fecha.split(\"-\")[1]===date.getMonth()+1+\"\"\r\n                        && t.fecha.split(\"-\")[0]===date.getFullYear()+\"\"))){\r\n                        return <div>\r\n                                <b/>\r\n                                <img align=\"left\" src={tomaConfirmada} alt=\"confirmada\"/>\r\n                              </div>\r\n                      }\r\n                    }}\r\n                    onChange={onChange}\r\n                    value={value}\r\n                    defaultView=\"month\"\r\n                    onClickDay={(value, event) => buscarToma(value)}\r\n                  />\r\n                </div>\r\n                {props.cuidador ? (\r\n                  <div className=\"mt-2 text-left ml-4\">\r\n                    <Link className=\"btn btn-info\" to={`/historial/${props.cliente}`}>\r\n                        Historial de tomas\r\n                    </Link>\r\n                  </div>\r\n                ):null}\r\n                <div className=\"mt-2\">\r\n                  {show && pendientes.length > 0 && props.cuidador ? (\r\n                    <Alert key={4353} variant=\"warning\" onClose={() => setShow(false)} dismissible>\r\n                        <p>¡El cliente tiene {pendientes.length} tomas pendientes!</p>\r\n                    </Alert>\r\n                  ):null}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm\">\r\n              <h3 className=\"text-info\">Tomas</h3>\r\n              {\r\n                tomasDia.length > 0 ? (\r\n                  <Fragment>\r\n                    {\r\n                      tomasDia.map((value, index) => {\r\n                        return <div key={index}>\r\n                          <Toma cuidador={props.cuidador} toma={value} idCliente={props.cliente} fecha={fechaCOM}/>\r\n                        </div>\r\n                      })\r\n                    }\r\n                  </Fragment>\r\n                ) : \"No hay tomas este día\"\r\n              }\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ViewCalendar","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoFWNgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0QRiF8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDktMDVUMjI6Mjc6NDQrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzU0NzUzYjktOTQ5ZC0yODRjLWI0N2MtZjdjNWE0ZmRkNDZiIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NGI4MjM3MzktNDhjMS1jOTQwLTkxMDQtMTE2YzAzMTM2ZDJkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzAxMTNjOTAtNjBmYy1mYTQwLTk0NGUtYzg5ZTViMDllOTI3IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzAxMTNjOTAtNjBmYy1mYTQwLTk0NGUtYzg5ZTViMDllOTI3IiBzdEV2dDp3aGVuPSIyMDIxLTA5LTA1VDIyOjI3OjQ0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozNTQ3NTNiOS05NDlkLTI4NGMtYjQ3Yy1mN2M1YTRmZGQ0NmIiIHN0RXZ0OndoZW49IjIwMjEtMDktMDVUMjI6Mjc6NDQrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+09JPnwAAAGBJREFUGBlj+H+QnQ2IdYG4Eoj3APF9KN4DFQPJsTEACW0gLgPiM0D8FYj/Q/FXqBhIThuksBqILyEpQMcguWqQwuNA/BePQpDccZDCF3gUwfALkhQSbTXRniE6eIgKcABlCQAoWY9gTgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoFWNgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0QRiF8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGtWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOS0wNVQyMjozMTo1NyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDktMDVUMjI6MzE6NTcrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTMzZjdlZTEtOWIyNy04MjQ4LTgzYWItYmRlNzNlY2ZiYzEwIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZmM0MTFiYWUtNTBkYi0wMzQzLTk0YzAtM2JiYjliMDg1NzY1IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzAxMTNjOTAtNjBmYy1mYTQwLTk0NGUtYzg5ZTViMDllOTI3IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmMwMTEzYzkwLTYwZmMtZmE0MC05NDRlLWM4OWU1YjA5ZTkyNyIgc3RFdnQ6d2hlbj0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MzU0NzUzYjktOTQ5ZC0yODRjLWI0N2MtZjdjNWE0ZmRkNDZiIiBzdEV2dDp3aGVuPSIyMDIxLTA5LTA1VDIyOjI3OjQ0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMzNmN2VlMS05YjI3LTgyNDgtODNhYi1iZGU3M2VjZmJjMTAiIHN0RXZ0OndoZW49IjIwMjEtMDktMDVUMjI6MzE6NTcrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+z7xxugAAAF1JREFUGBlj+H+Qne3XAQ69pHWmR81WOv7UWO76H4RBbJAYSA6khgHI0HFYZfcIpgAdg+RAahiS15kcxaUIhkFqGMxXOv4ipBCkhoGQIhgmXiHRVhPtGaKDh9gABwDyF80B8mPbIgAAAABJRU5ErkJggg==\"","import React from 'react'\r\nimport {auth, url} from '../firebase'\r\nimport {withRouter, Link} from 'react-router-dom'\r\nimport ViewCalendar from './ViewCalendar'\r\n\r\nconst Cuidador = (props) => {\r\n\r\n    const [clientes, setClientes] = React.useState([])\r\n    const [selected, setSelected] = React.useState([])\r\n\r\n    const idCuidador = auth.currentUser.uid\r\n\r\n    let urlFinal = url + \"clientes/\" + idCuidador\r\n\r\n    React.useEffect(() => {\r\n        if(auth.currentUser){\r\n            const fetchApi = async () => {\r\n                try {\r\n                    const response = await fetch(urlFinal)\r\n                    const responseJSON = await response.json()\r\n                    if(responseJSON){\r\n                        setClientes(responseJSON)\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            fetchApi()\r\n            return () => {\r\n            }\r\n        }else{\r\n            props.history.push('/login')\r\n        }\r\n        \r\n    }, [props.history, urlFinal])\r\n\r\n    const goToAñadirPaciente = () => {\r\n        props.history.push('/nuevo-paciente')\r\n        cargarClientes()\r\n    }\r\n\r\n    const cargarClientes = async () => {\r\n        try {\r\n            const response = await fetch(url)\r\n            const responseJSON = await response.json()\r\n            if(responseJSON){\r\n                setClientes(responseJSON)\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const verCalendario = (cliente) => {\r\n        const select = clientes.slice()\r\n        select.map((value, index) => {\r\n            if(cliente === index){\r\n                return select[index] = true\r\n            }else{\r\n                return select[index] = false\r\n            }\r\n        })\r\n        setSelected(select)\r\n    }\r\n\r\n    return (\r\n            <div>\r\n                <div className=\"mt-5 container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm\">\r\n                        <button onClick={() => goToAñadirPaciente()} className=\"btn btn-primary\">+ Añadir cliente</button>\r\n                        </div>\r\n                        <div className=\"col-sm\">\r\n                            <h2 className=\"text-info font-weight-bold\">Gestionar Clientes</h2>\r\n                        </div>\r\n                        <div className=\"col-sm text-right\">\r\n                            <Link className=\"btn btn-primary\" to={`/medicamentos/${idCuidador}`}>Medicamentos</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                { clientes.length <= 0 || clientes === null? (\r\n                    \"No hay clientes que mostrar\"\r\n                ):\r\n                clientes.map((value, index) => {\r\n                    return <div key={index}>\r\n                            <div className=\"card mb-2\" key={index+1}>\r\n                                <div className=\"card-body\" key={index+2}>\r\n                                <div className=\"container mt-1\">\r\n                                    <div className=\"row\">\r\n                                    <div className=\"col-sm\">\r\n                                    <div className=\"text-left mb-3 float-left\">\r\n                                        <h5><Link className=\"font-weight-bold text-info text-uppercase mr-5\" to={`/info-cliente/${value.id}`}>{value.nombre + \" \" + value.apellidos}</Link></h5>\r\n                                        <button className=\"btn btn-info\" onClick={() => verCalendario(index)}>Ver tomas</button>\r\n                                        <Link className=\"btn btn-info ml-1\" to={`/anadir-toma/${value.id}`}>\r\n                                            Añadir toma\r\n                                        </Link>\r\n                                        <Link className=\"btn btn-info ml-1\" to={`/zona-control/${value.id}`}>\r\n                                            Definir zona de control\r\n                                        </Link>\r\n                                    </div>\r\n                                    </div>\r\n                                    <div className=\"col-sm\">\r\n                                    {value.info !== undefined? (\r\n                                        <div className=\"text-left\">\r\n                                            <h5 className=\"card-subtitle mb-2 text-info\" key={index+4}><b>Peso:</b> {value.info.peso} kg</h5>\r\n                                            <h5 className=\"card-subtitle mb-2 text-info\" key={index+6}><b>Presión sanguínea:</b> {value.info.presionMax}/{value.info.presionMin} mmHg</h5>\r\n                                            <h5 className=\"card-subtitle mb-3 text-info\" key={index+5}><b>Nivel de glucosa:</b> {value.info.glucosa} mg/dl</h5>\r\n                                        </div>\r\n                                    ):<div className=\"text-info\">No se ha tomado medidas</div>}\r\n                                    </div>\r\n                                    </div>\r\n                                </div>\r\n                                    {\r\n                                        selected[index] ? (\r\n                                            <ViewCalendar cuidador={auth.currentUser.email} cliente={value.id}/>\r\n                                        ) : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Cuidador)","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {url} from '../firebase'\r\n\r\nconst EditarCliente = (props) => {\r\n\r\n    const superagent = require('superagent');\r\n\r\n    const [nombre, setNombre] = React.useState(props.cliente.nombre)\r\n    const [apellidos, setApellidos] = React.useState(props.cliente.apellidos)\r\n    const [direccion, setDireccion] = React.useState(props.cliente.direccion)\r\n    const [cp, setCP] = React.useState(props.cliente.codPostal)\r\n    const [ciudad, setCiudad] = React.useState(props.cliente.ciudad)\r\n    const [edad, setEdad] = React.useState(props.cliente.edad)\r\n    const [emailPaciente, setEmailPaciente] = React.useState(props.cliente.email)\r\n    const [pass, setPass] = React.useState(\"\")\r\n    const [descripcion, setDescripcion] = React.useState(props.cliente.descripcion)\r\n    const [telf, setTelf] = React.useState(props.cliente.tlf)\r\n\r\n    const procesarEdicion = (e) => {\r\n        e.preventDefault()\r\n        editarCliente()\r\n        props.history.push('/cuidador')\r\n    }\r\n\r\n    const editarCliente = async() => {\r\n        const urlFinal = url + \"editar-cliente\"\r\n        //const datos = controlDatos()\r\n        try{\r\n            await superagent.post(urlFinal)\r\n                .send({\r\n                        nombre: nombre,\r\n                        apellidos: apellidos,\r\n                        direccion: direccion,\r\n                        codPostal: cp,\r\n                        ciudad: ciudad,\r\n                        edad: edad,\r\n                        descripcion: descripcion,\r\n                        telf: telf,\r\n                        email: emailPaciente,\r\n                        pass: pass,\r\n                        idcliente: props.idCliente\r\n                    })\r\n                .then(() => {\r\n                    props.history.push('/cuidador')\r\n            })\r\n            props.history.push('/cuidador')\r\n        } catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={procesarEdicion}>\r\n                    <label className=\"text-info\">Nombre:</label>\r\n                    <input \r\n                        className=\"form-control\"\r\n                        placeholder=\"Introduce un nombre\"\r\n                        onChange={e => setNombre(e.target.value)}\r\n                        value={nombre}\r\n                    />\r\n                    <label className=\"text-info\">Apellidos:</label> \r\n                    <input \r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese apellidos\"\r\n                        onChange={e => setApellidos(e.target.value)}\r\n                        value={apellidos}\r\n                    />\r\n                    <label className=\"text-info\">Dirección:</label>\r\n                    <input \r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese la dirección\"\r\n                        onChange={e => setDireccion(e.target.value)}\r\n                        value={direccion}\r\n                    />\r\n                    <label className=\"text-info\">Ciudad:</label> \r\n                    <input \r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese la ciudad\"\r\n                        onChange={e => setCiudad(e.target.value)}\r\n                        value={ciudad}\r\n                    />\r\n                    <label className=\"text-info\">Código Postal:</label>\r\n                    <input \r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese el código postal\"\r\n                        onChange={e => setCP(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                        value={cp}\r\n                    />\r\n                    <label className=\"text-info\">Edad:</label>\r\n                    <input \r\n                        className=\"form-control\"\r\n                        type=\"number\"\r\n                        placeholder=\"Ingrese la edad\"\r\n                        onChange={e => setEdad(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                        value={edad}\r\n                    />\r\n                    <label className=\"text-info\">Descripción:</label>\r\n                    <textarea  \r\n                        className=\"form-control\"\r\n                        type=\"textarea\"\r\n                        placeholder=\"Ingrese una descripción\"\r\n                        onChange={e => setDescripcion(e.target.value)}\r\n                        value={descripcion}\r\n                    />\r\n                    <label className=\"text-info\">Teléfono:</label>\r\n                    <input \r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese un teléfono de contacto\"\r\n                        onChange={e => setTelf(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                        value={telf}\r\n                    />\r\n                    <label className=\"text-info\">Email:</label>\r\n                    <input \r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese un email\"\r\n                        onChange={e => setEmailPaciente(e.target.value)}\r\n                        value={emailPaciente}\r\n                    />\r\n                    <label className=\"text-info\">Contraseña de acceso:</label>\r\n                    <input \r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Ingrese una contraseña\"\r\n                        onChange={e => setPass(e.target.value)}\r\n                        value={pass}\r\n                    />\r\n                    <button className=\"btn btn-info btn-lg btn-block mt-2\" type='submit'>\r\n                        Editar Paciente\r\n                    </button>\r\n                </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(EditarCliente)\r\n","import React from 'react'\r\nimport {auth, url} from '../firebase'\r\nimport {Link, useParams, withRouter} from 'react-router-dom'\r\nimport EditarCliente from './EditarCliente'\r\n\r\nconst EditarPaciente = (props) => {\r\n\r\n    const [clienteCargado, setClienteCargado] = React.useState({})\r\n    const {idCliente} = useParams()\r\n\r\n    const [showEdit, setShowEdit] = React.useState(false)\r\n\r\n    const superagent = require('superagent');\r\n\r\n    React.useEffect(() => {\r\n        if(auth.currentUser){\r\n            const urlFinal = url + \"cliente/\" + idCliente\r\n            const fetchApi = async () => {\r\n                try {\r\n                    const response = await fetch(urlFinal)\r\n                    const responseJSON = await response.json()\r\n                    if(responseJSON){\r\n                        setClienteCargado(responseJSON)\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            fetchApi()\r\n            return () => {\r\n            }\r\n        }else{\r\n            console.log('No existe usuario')\r\n            props.history.push('/login')\r\n        }\r\n    }, [props.history, idCliente, showEdit])\r\n\r\n    const borrarCliente = async(id) =>{\r\n        const urlFinal = url + \"/borrar-cliente\"\r\n        try{\r\n            await superagent.delete(urlFinal)\r\n                .send({ idCliente: idCliente })\r\n                .then(() => {\r\n                    props.history.push(\"/cuidador\")\r\n            })\r\n        }catch (error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"mt-4 text-info font-weight-bold\">Datos del cliente</h3>\r\n            <div className=\"card mb-2\">\r\n                <div className=\"card-header\">\r\n                    <h4 className=\"card-title font-weight-bold float-left\">{clienteCargado.nombre} {clienteCargado.apellidos}</h4>\r\n                    <div className=\"text-right\"><button className=\"btn btn-info\" onClick={() => borrarCliente(idCliente)}>Borrar cliente</button></div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-subtitle mb-2 text-muted float-left\">\r\n                        <b>Dirección:</b> {clienteCargado.direccion}\r\n                    </h5>\r\n                    <h5 className=\"card-subtitle mb-2 text-muted text-right\">\r\n                        <b>Ciudad/Provincia: </b>{clienteCargado.ciudad}   <b>Código Postal: </b>{clienteCargado.codPostal}\r\n                    </h5>\r\n                    <p/>\r\n                    <h5 className=\"card-subtitle mb-2 text-muted text-left\">\r\n                        <b>Correo electrónico:</b> {clienteCargado.email}\r\n                    </h5>\r\n                    <p className=\"card-text justify-content-center\"><b>Descripción:</b> {clienteCargado.descripcion}</p>\r\n                </div>\r\n                <div className=\"card-footer text-muted font-weight-bold\">\r\n                    <div className=\"float-left mt-1\">{clienteCargado.tlf}</div>\r\n                    <div className=\"text-right\">\r\n                        <Link className=\"btn btn-info\" to={`/mensajeria/${idCliente}`}>Mandar mensaje</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\"/>\r\n                <label className=\"custom-control-label\" htmlFor=\"customCheck1\" onClick={() =>setShowEdit(!showEdit)}>Editar Cliente</label>\r\n            </div>\r\n            {showEdit ? (\r\n                <EditarCliente idCliente={idCliente} cliente={clienteCargado}/>\r\n            ):null} \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(EditarPaciente)\r\n","import React from 'react'\r\n\r\nexport const ClienteContext = React.createContext()\r\n\r\nconst DatosCliente = (props) => {\r\n\r\n    const [cliente, setCliente] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        if(localStorage.getItem('sesionCliente')){\r\n            const clienteLocal = JSON.parse(localStorage.getItem('sesionCliente'))\r\n            setCliente(clienteLocal)\r\n        }\r\n    }, [])\r\n\r\n    const actualizarCliente = (valor) => {\r\n        if(valor){\r\n            setCliente(valor.id)\r\n            localStorage.setItem('sesionCliente', JSON.stringify(valor.id))\r\n        }else{\r\n            localStorage.clear()\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <ClienteContext.Provider value={{cliente, actualizarCliente}}>\r\n            {props.children}\r\n        </ClienteContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DatosCliente\r\n","import React from 'react'\r\n\r\nexport const CuidadorContext = React.createContext()\r\n\r\nconst DatosCuidador = (props) => {\r\n\r\n    const [cuidador, setCuidador] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        if(localStorage.getItem('cuidador')){\r\n            const cuidadorLocal = JSON.parse(localStorage.getItem('cuidador'))\r\n            setCuidador(cuidadorLocal)\r\n        }\r\n    }, [])\r\n\r\n    const actualizarCuidador = (valor) => {\r\n        if(valor){\r\n            setCuidador(valor)\r\n            localStorage.setItem('cuidador', JSON.stringify(valor))\r\n        }else{\r\n            localStorage.clear()\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <CuidadorContext.Provider value={{cuidador, actualizarCuidador}}>\r\n            {props.children}\r\n        </CuidadorContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DatosCuidador\r\n","import React from 'react'\r\nimport {auth, url} from '../firebase'\r\nimport {withRouter} from 'react-router-dom'\r\nimport md5 from 'md5'\r\nimport { ClienteContext } from '../context/DatosCliente'\r\nimport { CuidadorContext } from '../context/DatosCuidador'\r\n\r\n\r\nconst Login = (props) => {\r\n    const superagent = require('superagent');\r\n\r\n    const [email, setEmail] = React.useState('')\r\n    const [pass, setPass] = React.useState('')\r\n    const [error, setError] = React.useState(null)\r\n    const [esRegistro, setEsRegistro] = React.useState(false)\r\n    \r\n    const {actualizarCliente} = React.useContext(ClienteContext)\r\n    const {cuidador, actualizarCuidador} = React.useContext(CuidadorContext)\r\n\r\n    const procesarLogin = e => {\r\n        e.preventDefault()\r\n        if(!email.trim()){\r\n            setError('Ingrese un email')\r\n            return\r\n        }\r\n        if(!pass.trim()){\r\n            setError('Ingrese una contraseña')\r\n            return\r\n        }\r\n        if(pass.length < 6){\r\n            setError('La contraseña debe tener más de 5 carácteres')\r\n            return\r\n        }\r\n        setError(null)\r\n\r\n        if(esRegistro){\r\n            registrar()\r\n        }else{\r\n            login()\r\n        }\r\n    }\r\n\r\n    const cargarCuidador = React.useCallback( async(id) => {\r\n        const urlFinal = url + \"cuidador/\" + id\r\n        try {\r\n            const response = await fetch(urlFinal)\r\n            const responseJSON = await response.json()\r\n            if(responseJSON){\r\n                actualizarCuidador(responseJSON)\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },[actualizarCuidador])\r\n\r\n    const loginCliente = React.useCallback(async() => {\r\n        const urlFinal = url + \"login/\" + email\r\n        let cliente = {}\r\n        try {\r\n            const response = await fetch(urlFinal)\r\n            const responseJSON = await response.json()\r\n            if(responseJSON){\r\n                cliente = responseJSON\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        if(cliente[0]){\r\n            const hash = md5(pass)\r\n            if(cliente[0].pass === hash){\r\n                actualizarCliente(cliente[0])\r\n                cargarCuidador(cliente[0].idCuidador)\r\n                if(cuidador){\r\n                    props.history.push(`/cliente/${cliente[0].id}`)\r\n                }\r\n            }else{\r\n                setError('Contraseña incorrecta')\r\n            }\r\n        }else{\r\n            setError('Usuario incorrecto')\r\n        }\r\n    }, [email, props.history, pass, actualizarCliente, cargarCuidador, cuidador])\r\n\r\n    const login = React.useCallback(async() => {\r\n        try{\r\n            await auth.signInWithEmailAndPassword(email, pass)\r\n            actualizarCuidador({email: email, id: auth.currentUser.uid})\r\n            props.history.push('/cuidador')\r\n        }catch(error){\r\n            if(error.code === 'auth/invalid-email'){\r\n                setError('Email no válido')\r\n            }else if(error.code === 'auth/wrong-password'){\r\n                setError('Contraseña incorrecta')\r\n            }else if('auth/user-not-found'){\r\n                loginCliente()\r\n            }\r\n        }\r\n    }, [email, pass, props.history, loginCliente, actualizarCuidador])\r\n\r\n    const registrar = React.useCallback(async() => {\r\n        const urlFinal = url + 'registro'\r\n        try {\r\n            await auth.createUserWithEmailAndPassword(email, pass)\r\n            await superagent.post(urlFinal)\r\n                .send({ email: email, id: auth.currentUser.uid })\r\n                .then(() => {\r\n                    actualizarCuidador({email: email, id: auth.currentUser.uid})\r\n                    props.history.push('/cuidador')\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            if(error.code === 'auth/invalid-email'){\r\n                setError('Email no válido')\r\n            }else if(error.code === 'auth/email-already-in-use'){\r\n                setError('Ya existe una cuenta con ese email')\r\n            }\r\n        }\r\n    }, [email, pass, props, superagent, actualizarCuidador])\r\n\r\n    const limpiar = () => {//cambia entre el inicio y el registro\r\n        setEmail('')//y limpia los campos\r\n        setPass('')\r\n        setError(null)\r\n        setEsRegistro(!esRegistro)\r\n    }\r\n\r\n    return (\r\n        <div className=\"mt-5\">\r\n            <h3 className=\"text-center text-info\">\r\n                {\r\n                    esRegistro ? 'Registro de Cuidador' : 'Acceso de Cuidador'\r\n                }\r\n            </h3>\r\n            <hr/>\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n                    <form id=\"registro-form\" onSubmit={procesarLogin}>\r\n                        {\r\n                            error && (\r\n                                <div className=\"alert alert-danger\">\r\n                                    {error}\r\n                                </div>\r\n                            )\r\n                        }\r\n                        Email<input \r\n                            type=\"email\" \r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Ingrese un email\"\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            value={email}\r\n                        />\r\n                        Contraseña<input \r\n                            type=\"password\"\r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Ingrese una contraseña\"\r\n                            onChange={e => setPass(e.target.value)}\r\n                            value={pass}\r\n                        />\r\n                        <button className=\"btn btn-info btn-lg btn-block mt-2\" type='submit'>\r\n                            {\r\n                                esRegistro ? 'Registrarse' : 'Iniciar sesión'\r\n                            }\r\n                        </button>\r\n                        <button \r\n                            className=\"btn btn-secondary btn-sm btn-block\"\r\n                            onClick={() => limpiar()}\r\n                            type='button'\r\n                        >\r\n                            {\r\n                                esRegistro ? (\r\n                                    '¿Ya registrado?' \r\n                                    ): '¿Registrarse?'\r\n                            }\r\n                        </button>\r\n                        {\r\n                            !esRegistro ? (\r\n                                <button\r\n                                    className=\"btn btn-link btn-block\"\r\n                                    onClick={() => props.history.push('/resetPsw')}\r\n                                >\r\n                                    ¿Olvidaste la contraseña?\r\n                                </button>\r\n                            ) : null\r\n                        }\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login)\r\n","import React from 'react'\r\nimport {Link, NavLink} from 'react-router-dom'\r\nimport {auth} from '../firebase'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { ClienteContext } from '../context/DatosCliente'\r\nimport { CuidadorContext } from '../context/DatosCuidador'\r\n\r\nconst Navbar = (props) => {\r\n\r\n    const {actualizarCliente} = React.useContext(ClienteContext)\r\n    const {actualizarCuidador} = React.useContext(CuidadorContext)\r\n\r\n    const cerrarSesion = () => {\r\n        actualizarCliente(null)\r\n        actualizarCuidador(null)\r\n        auth.signOut()\r\n            .then(() => {\r\n                props.history.push('/login')\r\n            })\r\n    }\r\n\r\n    const ruta = \"/cliente/\" + JSON.parse(localStorage.getItem('sesionCliente'))\r\n\r\n    return (\r\n        <div className=\"navbar bg-light\">\r\n            <Link to=\"/\" className=\"navbar-brand ml-2 text-info\">CAS</Link>\r\n            <div>\r\n                <div className=\"d-flex\">\r\n                    <NavLink \r\n                        className=\"btn btn-info mr-2\" \r\n                        to=\"/\"\r\n                        exact\r\n                    >\r\n                        Inicio\r\n                    </NavLink>\r\n                    {\r\n                        props.firebaseUser !== null ? (\r\n                            <NavLink \r\n                                className=\"btn btn-info mr-2\" \r\n                                to=\"/cuidador\"\r\n                            >\r\n                                Panel de cuidador\r\n                            </NavLink>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        localStorage.getItem('sesionCliente') ? (\r\n                            <NavLink \r\n                                className=\"btn btn-info mr-2\" \r\n                                to={ruta}\r\n                            >\r\n                                Ver mi calendario\r\n                            </NavLink>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        props.firebaseUser !== null || localStorage.getItem('sesionCliente') ? (\r\n                        <button \r\n                            className=\"btn btn-info\" \r\n                            onClick={() => cerrarSesion()}\r\n                        >\r\n                            Cerrar Sesión\r\n                        </button>\r\n                        ): (\r\n                        <NavLink \r\n                            className=\"btn btn-info\" \r\n                            to=\"/login\"\r\n                        >\r\n                            Login\r\n                        </NavLink>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Navbar)\r\n","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {auth, url} from '../firebase'\r\nimport { CuidadorContext } from '../context/DatosCuidador'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst NuevoPaciente = (props) => {\r\n\r\n    const superagent = require('superagent');\r\n\r\n    const [user, setUsert] = React.useState(null)\r\n    const {cuidador} = React.useContext(CuidadorContext)\r\n    //campos de formulario\r\n    const [nombre, setNombre] = React.useState(\"\")\r\n    const [apellidos, setApellidos] = React.useState(\"\")\r\n    const [direccion, setDireccion] = React.useState(\"\")\r\n    const [cp, setCP] = React.useState(0)\r\n    const [ciudad, setCiudad] = React.useState(\"\")\r\n    const [edad, setEdad] = React.useState(0)\r\n    const [emailPaciente, setEmailPaciente] = React.useState(\"\")\r\n    const [pass, setPass] = React.useState(\"\")\r\n    const [descripcion, setDescripcion] = React.useState(\"\")\r\n    const [telf, setTelf] = React.useState(0)\r\n    const [error, setError] = React.useState(null)\r\n\r\n    React.useEffect(() => {//controla si el usuario ha iniciado sesion\r\n        if(auth.currentUser){\r\n            setUsert(auth.currentUser)\r\n        }else{\r\n            console.log('No existe usuario')\r\n            props.history.push('/login')\r\n        }\r\n    }, [user, props.history]) \r\n\r\n    const procesarErrores = (e) => {\r\n        e.preventDefault()//evita las redirecciones get por defecto\r\n        if(!nombre.trim()){\r\n            setError('Ingrese un nombre')\r\n            return\r\n        }\r\n        if(!apellidos.trim()){\r\n            setError('Ingrese al menos un apellido')\r\n            return\r\n        }\r\n        if(!direccion.trim()){\r\n            setError('Ingrese la dirección del cliente')\r\n            return\r\n        }\r\n        if(!ciudad.trim()){\r\n            setError('Ingrese la ciudad del cliente')\r\n            return\r\n        }\r\n        if(!cp>0){\r\n            setError('Ingrese el código postal del cliente')\r\n            return\r\n        }\r\n        if(!telf>0){\r\n            setError('Ingrese un número de teléfono')\r\n            return\r\n        }\r\n        if(!emailPaciente.trim()){\r\n            setError('Ingrese un email')\r\n            return\r\n        }\r\n        if(!pass.trim()){\r\n            setError('Ingrese una contraseña')\r\n            return\r\n        }\r\n        if(pass.length < 6){\r\n            setError('La contraseña debe tener más de 5 carácteres')\r\n            return\r\n        }\r\n        setError(null)\r\n        registrar()\r\n    }\r\n\r\n    const registrar = async() => {\r\n        const idCliente = uuidv4();\r\n        const urlFinal = url + cuidador.id + \"/nuevo-cliente\"\r\n        try{\r\n            await superagent.post(urlFinal)\r\n                .send({ nombre: nombre,\r\n                        apellidos: apellidos,\r\n                        direccion: direccion,\r\n                        codPostal: cp,\r\n                        ciudad: ciudad,\r\n                        edad: edad,\r\n                        idCuidador: cuidador.id,\r\n                        email: emailPaciente,\r\n                        pass: pass,\r\n                        idCliente: idCliente,\r\n                        descripcion: descripcion,\r\n                        telf: telf\r\n                    }).then(() => {\r\n                        props.history.push(\"/cuidador\")\r\n                })\r\n                .then((response) => {\r\n                    if(response.text === \"Email ya existente\"){\r\n                        setEmailPaciente(\"El email ya existe\")\r\n                    }\r\n            })\r\n        } catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={procesarErrores}>\r\n                {\r\n                    error && (\r\n                        <div className=\"alert alert-danger\">\r\n                            {error}\r\n                        </div>\r\n                    )\r\n                }\r\n                Nombre: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese un nombre\"\r\n                    onChange={e => setNombre(e.target.value)}\r\n                    value={nombre}\r\n                />\r\n                Apellidos: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese apellidos\"\r\n                    onChange={e => setApellidos(e.target.value)}\r\n                    value={apellidos}\r\n                />\r\n                Dirección: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese la dirección\"\r\n                    onChange={e => setDireccion(e.target.value)}\r\n                    value={direccion}\r\n                />\r\n                Ciudad/Localidad/Municipio: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese la ciudad\"\r\n                    onChange={e => setCiudad(e.target.value)}\r\n                    value={ciudad}\r\n                />\r\n                Código Postal: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese el código postal\"\r\n                    onChange={e => setCP(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                    value={cp}\r\n                />\r\n                Edad: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese la edad\"\r\n                    onChange={e => setEdad(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                    value={edad}\r\n                />\r\n                Descripción: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese una descripción del paciente\"\r\n                    onChange={e => setDescripcion(e.target.value)}\r\n                    value={descripcion}\r\n                />\r\n                Teléfono: \r\n                <input \r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese un teléfono de contacto\"\r\n                    onChange={e => setTelf(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                    value={telf}\r\n                />\r\n                Email: \r\n                <input \r\n                    type=\"email\"\r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese un email\"\r\n                    onChange={e => setEmailPaciente(e.target.value)}\r\n                    value={emailPaciente}\r\n                />\r\n                Contraseña de acceso: \r\n                <input \r\n                    type=\"password\"\r\n                    className=\"form-control mt-2\"\r\n                    placeholder=\"Ingrese una contraseña\"\r\n                    onChange={e => setPass(e.target.value)}\r\n                    value={pass}\r\n                />\r\n                <button className=\"btn btn-info btn-lg btn-block mt-2\" type='submit'>\r\n                    Registrar Cliente\r\n                </button>\r\n            </form> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(NuevoPaciente)","import React from 'react'\r\nimport {withRouter, Link} from 'react-router-dom'\r\nimport {url} from '../firebase'\r\n\r\nconst AditionalInfoCustomer = (props) => {\r\n\r\n    const [infoAdicional, setInfoAdicional] = React.useState({})\r\n    //const {cliente} = React.useContext(ClienteContext)\r\n\r\n    const [peso, setPeso] = React.useState(\"\")\r\n    const [presionSanguineaMax, setPresionSanguineaMax] = React.useState(\"\")\r\n    const [presionSanguineaMin, setPresionSanguineaMin] = React.useState(\"\")\r\n    const [glucosa, setGlucosa] = React.useState(\"\")\r\n    const [showEdit, setShowEdit] = React.useState(false)\r\n\r\n    const superagent = require('superagent');\r\n\r\n    const glucosaBaja = <div className=\"text-warning\"><b>Tiene la glucosa demasiado baja. Por favor, consulte lo antes posible a su médico.</b></div>\r\n    const glucosaAlta = <div className=\"text-warning\"><b>Tiene la glucosa demasiado alta. Por favor, consulte lo antes posible a su médico.</b></div>\r\n    const tensionBaja = <div className=\"text-warning\"><b>Tiene la tensión demasiado baja. Por favor, consulte lo antes posible a su médico.</b></div>\r\n    const tensionAlta = <div className=\"text-warning\"><b>Tiene la tensión demasiado alta. Por favor, consulte lo antes posible a su médico.</b></div>\r\n    const glucosaTensionAltas = <div className=\"text-warning\"><b>Tiene la glucosa y la tensión demasiado altas. Por favor, consulte lo antes posible a su médico.</b></div>\r\n    const glucosaTensionBajas = <div className=\"text-warning\"><b>Tiene la glucosa y la tensión demasiado bajas. Por favor, consulte lo antes posible a su médico.</b></div>\r\n\r\n    React.useEffect(() => {\r\n        setInfoAdicional(props.cliente)\r\n    }, [setInfoAdicional, props.cliente])\r\n\r\n    const añadirDatos = async () => {\r\n        const urlFinal = url + props.idCliente + \"/info\"\r\n        try {\r\n            \r\n            await superagent.post(urlFinal)\r\n                .send({ peso: peso, presionMax: presionSanguineaMax, presionMin: presionSanguineaMin, glucosa: glucosa })\r\n                .then(() => {\r\n                    setInfoAdicional({\r\n                        peso: peso,\r\n                        presionMax: presionSanguineaMax,\r\n                        presionMin: presionSanguineaMin,\r\n                        glucosa: glucosa\r\n                    })\r\n                    setShowEdit(!showEdit)\r\n                    props.history.push('/')\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2 data-testid=\"h2-aic\" className=\"text-info\">Datos medidos por el paciente</h2>\r\n\r\n            {!infoAdicional?.info || showEdit ? (\r\n                <>\r\n                    <form data-testid=\"form-aic\" className=\"text-info\" onSubmit={añadirDatos}>\r\n                        <b>Peso:</b> <input \r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Ingrese su peso en Kg\"\r\n                            onChange={e => setPeso(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                            value={peso}\r\n                        />\r\n                        <b>Presión sanguínea máxima o sistólica:</b> <input \r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Ingrese la presión sanguínea en mmHg\"\r\n                            onChange={e => setPresionSanguineaMax(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                            value={presionSanguineaMax}\r\n                        />\r\n                        <b>Presión sanguínea mínima o diastólica:</b> <input \r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Ingrese la presión sanguínea en mmHg\"\r\n                            onChange={e => setPresionSanguineaMin(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                            value={presionSanguineaMin}\r\n                        />\r\n                        <b>Nivel de glucosa:</b> <input \r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Ingrese nicel de glucosa en mg/dL\"\r\n                            onChange={e => setGlucosa(parseInt(e.target.value) ? parseInt(e.target.value) : '')}\r\n                            value={glucosa}\r\n                        />\r\n                        <button type=\"button\" className=\"btn btn-info mt-3\" onClick={() => añadirDatos()}>Añadir datos</button>\r\n                    </form>\r\n                </>\r\n            ):\r\n            <div data-testid=\"div1-aic\" className=\"ml-3 text-info\">\r\n                <b>Peso:</b> {infoAdicional.info.peso} kg <br/>\r\n                <b>Presión sanguínea:</b> {infoAdicional.info.presionMax}/{infoAdicional.info.presionMin} mmHg \r\n                <br/>\r\n                <b>Glucosa en sangre:</b> {infoAdicional.info.glucosa} mg/dL <br/>\r\n                {infoAdicional.info.presionMax >= 180 && infoAdicional.info.presionMin >= 120 ? (\r\n                        tensionAlta\r\n                    ):infoAdicional.info.presionMax <= 90 && infoAdicional.info.presionMin <= 60 ? (\r\n                        tensionBaja\r\n                    ):infoAdicional.info.glucosa >= 180 ? (\r\n                        glucosaAlta\r\n                    ): infoAdicional.info.glucosa <= 70 ? (\r\n                        glucosaBaja\r\n                    ):infoAdicional.info.glucosa >= 180 && (infoAdicional.info.presionMax >= 180 && infoAdicional.info.presionMin >= 120) ? (\r\n                        glucosaTensionAltas\r\n                    ):infoAdicional.info.glucosa <=70 && (infoAdicional.info.presionMax >= 90 && infoAdicional.info.presionMin >= 60) ? (\r\n                        glucosaTensionBajas\r\n                    ):null}\r\n            </div>}\r\n            <p/>\r\n            <div data-testid=\"div2-aic\" className=\"custom-control custom-checkbox\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\"/>\r\n                <label className=\"custom-control-label\" htmlFor=\"customCheck1\" onClick={() =>setShowEdit(!showEdit)}>Editar datos</label>\r\n            </div>\r\n            <Link className=\"text-info ml-1\" to={'/info-presion'}>\r\n                    ¿Cómo tomar la tensión?\r\n                </Link>\r\n                <br/><Link className=\"text-info ml-1\" to={'/info-glucosa'}>\r\n                    ¿Cómo medir el nivel de azúcar en sangre?\r\n                </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\n//para pruebas\r\n//export default AditionalInfoCustomer\r\n//para producción\r\nexport default withRouter(AditionalInfoCustomer)\r\n","import React from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport {url} from '../firebase'\r\n\r\nconst AlertTomas = (props) => {\r\n\r\n    const [mensaje, setMensaje] = React.useState(\"\")\r\n    // eslint-disable-next-line\r\n    const [show, setShow] = React.useState(true)\r\n    const [tomasNC, setTomasNC] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        const urlFinal = url + props.cliente + \"/tomas-caducadas/\"\r\n        const fetchApi = async () => {\r\n            try {\r\n                const response = await fetch(urlFinal)\r\n                const responseJSON = await response.json()\r\n                setTomasNC(responseJSON)\r\n                if(responseJSON.length > 0){\r\n                    setMensaje(\"Se ha saltado alguna toma, revise su calendario, y avise a su cuidador\")\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        fetchApi()\r\n        \r\n    }, [props.cliente])\r\n\r\n    return (\r\n        <div data-testid=\"div1\">\r\n            {show && tomasNC.length > 0 ? (\r\n                <Alert key={3424} variant=\"danger\" onClose={() => setShow(false)} dismissible>\r\n                    {mensaje}\r\n                </Alert>\r\n            ): null}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AlertTomas\r\n","import React from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\nconst AlertaZona = (props) => {\r\n\r\n    const [show, setShow] = React.useState(true)\r\n    \r\n    return (\r\n        <div data-testid=\"div1\">\r\n           {show && props.superada ? (\r\n                <Alert key={3424} variant=\"danger\" onClose={() => setShow(false)} dismissible>\r\n                    Atención, está saliendo de su zona\r\n                </Alert>\r\n            ): null} \r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AlertaZona\r\n","import React from 'react'\r\nimport {useParams, Link} from 'react-router-dom'\r\nimport AditionalInfoCustomer from './AditionalInfoCustomer'\r\nimport ViewCalendar from './ViewCalendar'\r\nimport { CuidadorContext } from '../context/DatosCuidador'\r\nimport AlertTomas from './AlertTomas'\r\nimport AlertaZona from './AlertaZona'\r\nimport { auth, url } from '../firebase'\r\n\r\nconst Cliente = (props) => {\r\n\r\n    const {idCliente} = useParams()\r\n    const {cuidador} = React.useContext(CuidadorContext)\r\n    const [infoAdicional, setInfoAdicional] = React.useState({})\r\n    const [currentPosition, setCurrentPosition] = React.useState({})\r\n    const [errorDistancia, setErrorDistancia] = React.useState(0)\r\n    const [superada, setSuperada] = React.useState(false)\r\n    const [numNoLeidos, setNumNoLeidos] = React.useState(0)\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        if (\"geolocation\" in navigator) {\r\n            /* la geolocalización está disponible */\r\n            function success(position){\r\n                setCurrentPosition(position.coords)\r\n            }\r\n            function error(){\r\n                console.log(\"No es posible obtener tu posición\")\r\n            }\r\n            navigator.geolocation.getCurrentPosition(success, error)\r\n          } else {\r\n            /* la geolocalización NO está disponible */\r\n            console.log(\"Geolocalización no disponible\")\r\n        }\r\n        \r\n        const cargarInfo = async () => {\r\n            const urlFinal = url + \"cliente/\" + idCliente\r\n            \r\n            try {\r\n                const response = await fetch(urlFinal)\r\n                const responseJSON = await response.json()\r\n                if(responseJSON){\r\n                    setInfoAdicional(responseJSON)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        cargarInfo()\r\n\r\n        const cargarMensajesNoLeidos = async () => {\r\n            const urlFinal = url  + idCliente + \"/mensajes-no-leidos\"\r\n            try {\r\n                const response = await fetch(urlFinal)\r\n                const responseJSON = await response.json()\r\n                if(responseJSON){\r\n                    if(auth.currentUser){\r\n                        setNumNoLeidos(responseJSON.filter(m => m.id === idCliente).length)\r\n                    }else{\r\n                        setNumNoLeidos(responseJSON.filter(m => m.id === infoAdicional.idCuidador).length)\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        cargarMensajesNoLeidos()\r\n\r\n        //distancia (A, B) = R * arccos (sen (LATA) * sen (LATB) + cos (lata) * cos (LATB) * cos (LonA-LonB)) \r\n        const getKilometros = function(lat1,lon1,lat2,lon2)\r\n        {\r\n            const rad = function(x) {\r\n                return x*Math.PI/180;\r\n            }\r\n            var R = 6378.137; //Radio de la tierra en km\r\n            var dLat = rad( lat2 - lat1 );\r\n            var dLong = rad( lon2 - lon1 );\r\n            var a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(rad(lat1)) * Math.cos(rad(lat2)) * Math.sin(dLong/2) * Math.sin(dLong/2);\r\n            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n            var d = R * c;\r\n            return d.toFixed(3); //Retorna tres decimales\r\n        }\r\n        if(infoAdicional.zonacontrol){\r\n            setErrorDistancia(getKilometros(currentPosition.latitude, currentPosition.longitude, infoAdicional.zonacontrol.lat, infoAdicional.zonacontrol.lng))\r\n            if(errorDistancia > parseInt(infoAdicional.zonacontrol.radio)){\r\n                setSuperada(true)\r\n            }\r\n            //console.log(getKilometros(currentPosition.latitude, currentPosition.longitude, infoAdicional.zonacontrol.lat, infoAdicional.zonacontrol.lng))\r\n        }\r\n        return (() =>{\r\n            \r\n        })\r\n        // eslint-disable-next-line\r\n    }, [idCliente])\r\n    \r\n    return (\r\n        <div>\r\n            { \r\n                localStorage.getItem('sesionCliente') <= 0 ? (\r\n                    window.location.href = window.location + \"/login\"\r\n                ): \r\n                <>\r\n                    {infoAdicional?.zonacontrol ? (\r\n                        <AlertaZona superada={superada}/>\r\n                    ):null}\r\n                    <div data-testid=\"div1\" className=\"mt-3\">\r\n                        <AlertTomas cliente={idCliente}/>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"float-right\">\r\n                            <Link \r\n                                className=\"btn btn-info\" \r\n                                to={`/mensajeria/${idCliente}`}>\r\n\r\n                                Chat con el cuidador<br/>\r\n                                <div className=\"textBtnChat\">\r\n                                    {numNoLeidos === 1 ? (\r\n                                        <div>{numNoLeidos} mensaje no leido</div>\r\n                                    ): numNoLeidos > 1 ? (\r\n                                        <div>{numNoLeidos} mensajes no leidos</div>\r\n                                    ):null}\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                        <div data-testid=\"div2\" className=\"mt-2\">\r\n                            <AditionalInfoCustomer idCliente={idCliente} cliente={infoAdicional}/>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n                    <div data-testid=\"div3\" className=\"mt-4\">\r\n                        {cuidador ? (\r\n                            <div>\r\n                                <ViewCalendar cliente={idCliente}/> \r\n                            </div>\r\n                        ): null}\r\n                    </div>\r\n                    \r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cliente\r\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div data-testid=\"404\">\r\n            <h2>404 Not Found</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from 'react'\r\nimport {auth, url} from '../firebase'\r\nimport {withRouter, useParams} from 'react-router-dom'\r\nimport { Fragment } from 'react'\r\n\r\nconst Historial = (props) => {\r\n\r\n    const [historial, setHistorial] = React.useState([])\r\n    const {idCliente} = useParams()\r\n\r\n    let urlFinal = url + \"historial/\" + idCliente\r\n\r\n    React.useEffect(() => {\r\n        if(auth.currentUser){\r\n            const fetchApi = async () => {\r\n                try {\r\n                    const response = await fetch(urlFinal)\r\n                    const responseJSON = await response.json()\r\n                    if(responseJSON){\r\n                        setHistorial(responseJSON)\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            fetchApi()\r\n        }else{\r\n            props.history.push('/login')\r\n        }\r\n        return () => {\r\n            //setHistorial(null)\r\n        }\r\n    },[props.history, urlFinal])\r\n\r\n    return (\r\n        <div>\r\n        <h3 className=\"text-center text-info\">Historial de tomas</h3>\r\n            {historial.length <=0 ? (\r\n                <div>No hay tomas</div>\r\n            ):\r\n            <Fragment>\r\n                {\r\n                    historial.map((value, index) => {\r\n                        return <div key={index}>\r\n                        <div className=\"card mb-2\" key={index+1}>\r\n                            <div className=\"card-body\" key={index+2}>\r\n                                <h4 className=\"card-title\" key={index+3}>{value.medicamento}</h4>\r\n                                <h5 className=\"card-subtitle mb-2 text-muted\" key={index+4}>Se tomó el {value.fecha} a las {value.hora}</h5>\r\n                                <p className=\"card-text\" key={index+5}>{value.mensaje}</p>\r\n                                Dosis tomada: {value.cantidad}\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    })\r\n                }\r\n            </Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Historial)\r\n","import React from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport img from '../images/marca.png';\r\nimport {url} from '../firebase'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nconst ImgComponent = () => <img src={img} alt=\"marca\" width=\"30\"/>\r\n\r\nconst SimpleMap = (props) => {\r\n\r\n    const superagent = require('superagent');\r\n\r\n    const [coordenadas, setCoordenas] = React.useState({\r\n        lat: 0,\r\n        lng: 0,\r\n        x: 0,\r\n        y: 0\r\n    })\r\n\r\n    const [marcado, setMarcado] = React.useState(false)\r\n    const [radio, setRadio] = React.useState(0)\r\n\r\n    const defaultProps = {\r\n        center: {\r\n            lat: 36.7157414,\r\n            lng: -4.4296901\r\n        },\r\n        zoom: 15\r\n    };\r\n\r\n    const _onClick = ({x, y, lat, lng, event}) => {\r\n        setCoordenas({lat, lng, x, y})\r\n        setMarcado(true)\r\n    }\r\n    // ES5 users\r\n\r\n    const confirmarZona = async(e) => {\r\n        const urlFinal = url + \"control\"\r\n        try{\r\n            await superagent.post(urlFinal)\r\n                .send({ \r\n                    lat: coordenadas.lat,\r\n                    lng: coordenadas.lng,\r\n                    radio: radio,\r\n                    idCliente: props.idCliente\r\n                })\r\n                .then(() => {\r\n                    props.history.push('/cuidador')\r\n            })\r\n            props.history.push('/cuidador')\r\n        } catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n      // Important! Always set the container height explicitly\r\n      <div>\r\n        A continuación vas a definir un radio para el control del cliente.<br/>\r\n        1º - Establece el punto central pinchando en el mapa\r\n        {marcado ? (\r\n            <div>\r\n                2º - Introduce un radio de control en metros: <br/>\r\n                <input className=\"mt-2\" type=\"number\" onChange={e => setRadio(parseInt(e.target.value))} value={radio}/>\r\n                <button className=\"btn btn-info ml-2\" type=\"submit\" onClick={() =>confirmarZona()}>\r\n                    Confirmar selección\r\n                </button>\r\n            </div>\r\n        ):null}\r\n        <div className=\"mt-2\" style={{ height: '80vh', width: '100%' }}>\r\n        \r\n            <GoogleMapReact\r\n                bootstrapURLKeys={{ key: \"AIzaSyBtApXxr0sVPQp3rJ5ZpaVjnTRoY8cLj-E\", language: 'es' }}\r\n                defaultCenter={defaultProps.center}\r\n                defaultZoom={defaultProps.zoom}\r\n                onClick={_onClick}\r\n            >\r\n                <ImgComponent\r\n                    lat={coordenadas.lat}\r\n                    lng={coordenadas.lng}\r\n                />\r\n            </GoogleMapReact>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\n\r\nexport default withRouter(SimpleMap);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKZmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDgtMjlUMTQ6MjI6MDErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA4LTI5VDE2OjA2OjM1KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA4LTI5VDE2OjA2OjM1KzAyOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmJhYTNhMzMxLTRhMDgtYmE0MS04Zjg0LWFhNjg1M2UyNDgwNyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjQ2MzlmNTg4LWY1ZTctZTY0MS05YzM0LWEzYjQzZDYyNmIzMSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjc4OEEyQTI2RDAyNTExRTdBMEFFQzg3OUI2MkJBQjFEIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIHRpZmY6SW1hZ2VXaWR0aD0iOTAwIiB0aWZmOkltYWdlTGVuZ3RoPSI5MDAiIHRpZmY6UGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj0iMiIgdGlmZjpTYW1wbGVzUGVyUGl4ZWw9IjMiIHRpZmY6WFJlc29sdXRpb249IjEvMSIgdGlmZjpZUmVzb2x1dGlvbj0iMS8xIiB0aWZmOlJlc29sdXRpb25Vbml0PSIxIiBleGlmOkV4aWZWZXJzaW9uPSIwMjIxIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iOTAwIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iOTAwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGFiZDVlMTUtYjVlNS04NjQ5LTliOGYtZmEwNWMzYmU2MWY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjc4OEEyQTI2RDAyNTExRTdBMEFFQzg3OUI2MkJBQjFEIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Nzg4QTJBMjZEMDI1MTFFN0EwQUVDODc5QjYyQkFCMUQiLz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGFiZDVlMTUtYjVlNS04NjQ5LTliOGYtZmEwNWMzYmU2MWY2IiBzdEV2dDp3aGVuPSIyMDIxLTA4LTI5VDE0OjIzOjI5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gaW1hZ2UvanBlZyB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiN2QzMjM1ZC03YzE2LTQ1NDctODEzMS1mNTk0Yzg3ZTc1MTIiIHN0RXZ0OndoZW49IjIwMjEtMDgtMjlUMTQ6MjM6MjkrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmJhYTNhMzMxLTRhMDgtYmE0MS04Zjg0LWFhNjg1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\"","import React from 'react'\r\nimport SimpleMap from './SimpleMap'\r\nimport { useParams } from 'react-router'\r\nimport {url} from '../firebase'\r\n\r\nconst ZonaControl = (props) => {\r\n\r\n    const {idCliente} = useParams()\r\n    const [cliente, setCliente] = React.useState({})\r\n\r\n    React.useEffect(() => {\r\n        const urlFinal = url + \"cliente/\" + idCliente\r\n        const fetchApi = async () => {\r\n            try {\r\n                const response = await fetch(urlFinal)\r\n                const responseJSON = await response.json()\r\n                if(responseJSON){\r\n                    setCliente(responseJSON)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        fetchApi()\r\n        return () => {\r\n        }\r\n    }, [idCliente])\r\n    \r\n    return (\r\n        <div>\r\n            <h3 className=\"text-info\">Define la zona de control para {cliente.nombre} {cliente.apellidos}</h3>\r\n            <SimpleMap idCliente={idCliente}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ZonaControl\r\n","export default __webpack_public_path__ + \"static/media/esfigmomanometro-de-bolsillo.23700503.jpg\";","import React from 'react'\r\nimport esfigmomanometro from '../../images/esfigmomanometro-de-bolsillo.jpg'\r\n\r\nconst InfoPresion = () => {\r\n    return (\r\n        <div>\r\n            <h2 className=\"mt-3 text-info\">¿Cómo tomar la tensión?</h2>\r\n            <div>\r\n                <p className=\"text-justify\">Para tomar la tensión es necesario un esfigmomanómetro parecido al de la imagen (puede ser electrónico).\r\n                <br/> Se expresa en dos valores:\r\n                </p>\r\n                <ul>\r\n                    <li type=\"circle\">Tensión máxima o sistólica.</li>\r\n                    <li type=\"circle\">Tensión mínima o diastólica.</li>\r\n                </ul>\r\n                \r\n                <p>\r\n                <b>Pasos:</b>\r\n                    <ol>\r\n                        <li>Será más práctico si está acompañado de alguien que pueda tomarle la presión.</li>\r\n                        <li>Es necesario envolver el brazo por encima del codo con un brazal que suele sujetarse con velcro.</li>\r\n                        <li>Una vez colocado y bien ajustado, se hinchará usando la perilla de goma a modo de bomba de aire.</li>\r\n                        <li>A continuación, se soltará un de aire del brazal, para permitir la circulación.</li>\r\n                        <li>EL primero de los latidos indicará la presión máxima de la sangre, correspondiente con la sístole.</li>\r\n                        <li>Seguiremos deshinchando el brazal hasta que el latido se desvanezca.</li>\r\n                        <li>Cuando el latido desaparezca nos mostrará la presión sanguinea mínima o diastólica.</li>\r\n                    </ol>\r\n                </p>\r\n                \r\n            </div>\r\n            <p/>\r\n            <div className=\"float-left\">\r\n                <img src={esfigmomanometro} className=\"img-fluid rounded mx-auto d-block\" alt=\"esfigmomanometro\" width=\"50%\"/>\r\n                <div className=\"text-center\">Ejemplo de Esfigmomanómetro</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoPresion\r\n","import React from 'react'\r\n\r\nconst InfoGlucosa = () => {\r\n    return (\r\n        <div>\r\n            <h2 className=\"mt-3 text-info\">¿Cómo medir el azúcar en sangre?</h2>\r\n            <div>\r\n                <p className=\"text-justify\">Para medir el nivel de azúcar en sangre se utiliza un medidor que mide la cantidad de glucosa en una gota de sangre.\r\n                <br/> Niveles anormales de azúcar en sangre:\r\n                </p>\r\n                <ul>\r\n                    <li type=\"circle\"><b>Hipoglucemia.</b> Conocido como nivel bajo de azúcar en la sangre: 70 mg/dL o menos.</li>\r\n                    <li type=\"circle\"><b>Hiperglucemia.</b> Conocido como nivel alto de azúcar en la sangre: Más de 180 mg/dL.</li>\r\n                </ul>\r\n                \r\n                <p>\r\n                <b>Pasos:</b>\r\n                    <ol>\r\n                        <li>Lávate bien las manos y desinfecta el medidor.</li>\r\n                        <li>Ten a mano el medidor, una tira reactiva, una lanceta y una toallita con alcohol.</li>\r\n                        <li>Frota tus manos para estimular el flujo de sangre a las yemas de los dedos.</li>\r\n                        <li>Enciende el medidor e inserta la tira reactiva.</li>\r\n                        <li>Limpia la yema del dedo con la gasa con alcohol y deja que el alcohol se evapore.</li>\r\n                        <li>Pincha el dedo con la lanceta.</li>\r\n                        <li>Aprieta suavemente la base del dedo hasta que se forme una gota de sangre en la yema del dedo.</li>\r\n                        <li>Coloca la gota de sangre en la tira reactiva.</li>\r\n                        <li>Espera a que el medidor muestre el nivel de azúcar en la sangre.</li>\r\n                        <li>Registra los resultados.</li>\r\n                    </ol>\r\n                </p>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoGlucosa\r\n","import React from 'react'\r\n\r\nconst InfoCAS = () => {\r\n    return (\r\n        <div>\r\n            <h2 className=\"text-center text-info mt-4\">Así funciona CAS</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoCAS\r\n","export default __webpack_public_path__ + \"static/media/cliente.87baf9f5.png\";","export default __webpack_public_path__ + \"static/media/cuidador.bc131f9c.png\";","import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport {auth, url} from '../firebase'\r\nimport imgCliente from '../images/cliente.png'\r\nimport imgCuidador from '../images/cuidador.png'\r\n\r\nconst Mensajeria = () => {\r\n\r\n    const {idCliente} = useParams()\r\n    \r\n\r\n    const [mensajes, setMensajes] = React.useState([])\r\n    const [mensaje, setMensaje] = React.useState(\"\")\r\n\r\n    const superagent = require('superagent');\r\n\r\n    React.useEffect(() => {\r\n        const urlFinal = url + idCliente + \"/mensajes\"\r\n        const fetchApi = async () => {\r\n            try {\r\n                const response = await fetch(urlFinal)\r\n                const responseJSON = await response.json()\r\n                if(responseJSON){\r\n                    setMensajes(responseJSON)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        fetchApi()\r\n        return () => {\r\n        }\r\n    },[idCliente])\r\n\r\n    const cargarMsg = async() => {\r\n        const urlFinal = url + idCliente + \"/mensajes\"\r\n        try {\r\n            const response = await fetch(urlFinal)\r\n            const responseJSON = await response.json()\r\n            if(responseJSON){\r\n                setMensajes(responseJSON)\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        var id = null\r\n        if(auth.currentUser){\r\n            id = auth.currentUser.uid\r\n        }else{\r\n            id = idCliente\r\n        }\r\n        const urlFinal = url + \"anadir-mensaje\"\r\n        await superagent.post(urlFinal)\r\n                .send({ \r\n                    msg: mensaje,\r\n                    fecha: new Date(),\r\n                    id: id,\r\n                    idCliente: idCliente\r\n                    })\r\n                .then(() => {\r\n\r\n            })\r\n        cargarMsg()\r\n        setMensaje('');\r\n      }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"text-info text-center\">Mensajes</h2>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm\">\r\n                        {mensajes.length > 0 ? (\r\n                            mensajes.map((value, index) => {\r\n                                return <div key={index} className={value.id === idCliente ? (\"containerMsg\"):\"containerMsg info\"}>\r\n                                    <img \r\n                                        src={value.id === idCliente ? (imgCliente):imgCuidador} \r\n                                        align={value.id === idCliente ? (\"left\"):\"right\"}\r\n                                        width=\"5%\" \r\n                                        alt=\"Avatar\"/>\r\n                                    <div className={value.id === idCliente ? (\"border-info\"):\"border-info\"}>\r\n                                        <div className={value.id === idCliente ? (\"text-left ml-5\"):\"text-right mr-5\"}>{value.msg}</div>\r\n                                    </div>\r\n                                    <br/>\r\n                                    <div className={value.id === idCliente ? (\"time-right\"):\"time-left\"}>{value.fecha.substr(0, 10)} a las {value.fecha.substr(11, 8)}</div>\r\n                                </div>\r\n                            })\r\n                        ):null}\r\n                        <form className=\"form-group text-center\" onSubmit={sendMessage}>\r\n                            <input className=\"form-control\" value={mensaje} onChange={(e) => setMensaje(e.target.value)} placeholder=\"Escribe un mensaje\" />\r\n                            <button className=\"btn btn-info mt-1 form-control\" type=\"submit\" disabled={!mensaje}>enviar</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Mensajeria\r\n","import React from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport {url} from '../firebase'\r\n\r\n\r\nconst Medicamentos = () => {\r\n\r\n    const {idCuidador} = useParams()\r\n\r\n    const [medicamentos, setMedicamentos] = React.useState([])\r\n    const [nombreMed, setNombreMed] = React.useState(\"\")\r\n    const [descMed, setDescMed] = React.useState(\"\")\r\n\r\n    const superagent = require('superagent');\r\n\r\n    React.useEffect(() => {\r\n        const urlFinal = url + idCuidador + \"/medicamentos\"\r\n        const fetchApi = async () => {\r\n            try {\r\n                const response = await fetch(urlFinal)\r\n                const responseJSON = await response.json()\r\n                if(responseJSON){\r\n                    setMedicamentos(responseJSON)\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        fetchApi()\r\n        return () => {\r\n        }\r\n    }, [idCuidador])\r\n\r\n    const cargarMedicamentos = async() => {\r\n        const urlFinal = url + idCuidador + \"/medicamentos\"\r\n        try {\r\n            const response = await fetch(urlFinal)\r\n            const responseJSON = await response.json()\r\n            if(responseJSON){\r\n                setMedicamentos(responseJSON)\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const ingresarMedicamento = async (e) => {\r\n        e.preventDefault()\r\n        const idMed = uuidv4();\r\n        const urlFinal = url + \"anadir-medicamento\"\r\n        await superagent.post(urlFinal)\r\n                .send({ \r\n                    nombre: nombreMed,\r\n                    descripcion: descMed,\r\n                    idCuidador: idCuidador,\r\n                    id: idMed\r\n                    })\r\n                .then(() => {\r\n            })\r\n        setDescMed(\"\")\r\n        setNombreMed(\"\")\r\n        cargarMedicamentos()\r\n    }\r\n\r\n    const borrarMedicina = async (medicina) => {\r\n        const urlFinal = url + \"borrar-medicamento\"\r\n        try{\r\n            await superagent.delete(urlFinal)\r\n                .send({ idMed: medicina.id, idCuidador: idCuidador})\r\n                .then(() => {\r\n                    cargarMedicamentos()\r\n            })\r\n        }catch (error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"text-center text-info mt-2\">Medicamentos para las tomas</h2>\r\n            <div className=\"container mt-4 text-info\">\r\n                <div className=\"row\">\r\n                    <div className=\"col ml-5\">\r\n                        <h4>Listado de medicamentos</h4>\r\n                        <div>\r\n                            <ul className=\"mt-4\">\r\n                            {medicamentos.length > 0 ? (\r\n                                medicamentos.map((value, index) => {\r\n                                    return <li className=\"mt-2\" key={index}>\r\n                                        <div className=\"container\">\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col\">\r\n                                                    <b>{value.nombre}:</b><br/> {value.descripcion} \r\n                                                </div>\r\n                                                <div className=\"col\">\r\n                                                    <button className=\"btn-sm btn-info ml-3\" onClick={() => borrarMedicina(value)}>Borrar</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                            </li>\r\n                                })\r\n                            ): null}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col mr-5\">\r\n                        <h4 className=\"text-right\">Introducir nuevo medicamento</h4>\r\n                        <form onSubmit={ingresarMedicamento}>\r\n                            Nombre: <input \r\n                                className=\"form-control\"\r\n                                placeholder=\"Introduce un nombre\"\r\n                                onChange={e => setNombreMed(e.target.value)}\r\n                                value={nombreMed}/>\r\n                            <p/>\r\n                            Descripción: <textarea \r\n                                className=\"form-control\"\r\n                                placeholder=\"Introduce una descripción\"\r\n                                onChange={e => setDescMed(e.target.value)}\r\n                                value={descMed}/>\r\n                            <button className=\"btn btn-info mt-2 form-control\" type=\"submit\" disabled={!nombreMed}>Añadir</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Medicamentos\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\r\nimport AñadirToma from './components/AñadirToma';\r\nimport Cuidador from './components/Cuidador';\r\nimport InfoCliente from './components/InfoCliente';\r\nimport Login from './components/Login';\r\nimport Navbar from './components/Navbar';\r\nimport NuevoPaciente from './components/NuevoPaciente';\r\nimport {auth} from './firebase'\r\nimport Cliente from './components/Cliente';\r\nimport DatosCliente from './context/DatosCliente';\r\nimport NotFound from './components/NotFound';\r\nimport DatosCuidador from './context/DatosCuidador';\r\nimport Historial from './components/Historial';\r\nimport ZonaControl from './components/ZonaControl';\r\nimport EditarCliente from './components/EditarCliente';\r\nimport InfoPresion from './components/infoMedidas/InfoPresion';\r\nimport InfoGlucosa from './components/infoMedidas/InfoGlucosa';\r\nimport InfoCAS from './components/InfoCAS';\r\nimport { Link } from 'react-router-dom';\r\nimport Mensajeria from './components/Mensajeria';\r\nimport Medicamentos from './components/Medicamentos';\r\n\r\nconst App = () => {\r\n\r\n  const [firebaseUser, setFirebaseUser] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      if(user){\r\n        setFirebaseUser(user)\r\n      }else{\r\n        setFirebaseUser(null)\r\n      }\r\n    })\r\n  }, []) //Solo se ejecuta al cargar el componente\r\n\r\n  return firebaseUser !== false ? (\r\n    <DatosCliente>\r\n      <DatosCuidador>\r\n        <Router>\r\n          <div className=\"container\">\r\n            <Navbar firebaseUser={firebaseUser}/>\r\n            <Switch>\r\n              <Route path=\"/login\" exact>\r\n                <Login/>\r\n              </Route>\r\n              <Route path=\"/cuidador\" exact>\r\n                <Cuidador/>\r\n              </Route>\r\n              <Route path=\"/nuevo-paciente\" exact>\r\n                <NuevoPaciente/>\r\n              </Route>\r\n              <Route path=\"/anadir-toma/:idCliente\" exact>\r\n                <AñadirToma/>\r\n              </Route>\r\n              <Route path=\"/zona-control/:idCliente\" exact>\r\n                <ZonaControl/>\r\n              </Route>\r\n              <Route path=\"/info-cliente/:idCliente\" exact>\r\n                <InfoCliente/>\r\n              </Route>\r\n              <Route path=\"/info-cliente/:idCliente\" exact>\r\n                <EditarCliente/>\r\n              </Route>\r\n              <Route path=\"/historial/:idCliente\" exact>\r\n                <Historial/>\r\n              </Route>\r\n              <Route path=\"/medicamentos/:idCuidador\" exact>\r\n                <Medicamentos/>\r\n              </Route>\r\n              <Route path=\"/cliente\" exact>\r\n                <Redirect to=\"/\" />\r\n              </Route>\r\n              <Route path=\"/cliente/:idCliente\" exact>\r\n                <Cliente/>\r\n              </Route>\r\n              <Route path=\"/info-presion\" exact>\r\n                <InfoPresion/>\r\n              </Route>\r\n              <Route path=\"/info-glucosa\" exact>\r\n                <InfoGlucosa/>\r\n              </Route>\r\n              <Route path=\"/info-cas\" exact>\r\n                <InfoCAS/>\r\n              </Route>\r\n              <Route path=\"/mensajeria/:idCliente\" exact>\r\n                <Mensajeria/>\r\n              </Route>\r\n              <Route path=\"/\" exact>\r\n                <h1 className=\"text-center mt-5 font-weight-bold text-info\">Bienvenidos a CAS</h1>\r\n                <h3 className=\"text-center\">Una aplicación para ayudarte a gestionar las tomas de medicamentos</h3>\r\n                <div className=\"text-center\">\r\n                  <Link className=\"btn btn-info\" to='/info-cas'>¿Cómo funciona?</Link>\r\n                </div>\r\n              </Route>\r\n              <Route path=\"*\">\r\n                <NotFound/>\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </DatosCuidador>\r\n    </DatosCliente>\r\n  ) : (\r\n    <h2>Loading...</h2>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.jsx';\r\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic'\r\n\r\nconst options = {\r\n  // you can also just use 'bottom center'\r\n  position: positions.BOTTOM_CENTER,\r\n  timeout: 5000,\r\n  offset: '30px',\r\n  // you can also just use 'scale'\r\n  transition: transitions.SCALE\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AlertProvider template={AlertTemplate} {...options}>\r\n      <App />\r\n    </AlertProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}