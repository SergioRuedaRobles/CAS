(this.webpackJsonpcas=this.webpackJsonpcas||[]).push([[0],{59:function(e,t,a){},77:function(e,t){},93:function(e,t,a){"use strict";a.r(t);var n=a(43),c=a(1),s=a.n(c),i=a(15),r=a.n(i),l=(a(59),a(4)),o=a(9),u=a(11),d=a(5),j=a.n(d),b=a(8),m=a(31),h=(a(94),a(62),"https://us-central1-cas-ofi.cloudfunctions.net/expressApi/");m.a.initializeApp({apiKey:"AIzaSyCtlqwnW5kj2EUdLMgx2CpHDcx_Qacv6qI",authDomain:"cas-ofi.firebaseapp.com",projectId:"cas-ofi",storageBucket:"cas-ofi.appspot.com",messagingSenderId:"501713199929",appId:"1:501713199929:web:cf06958a1414a228267ee8"});m.a.firestore();var p=m.a.auth(),x=a(0),O=Object(u.h)((function(e){var t=a(23),n=s.a.useState(new Date),c=Object(l.a)(n,2),i=c[0],r=c[1],o=s.a.useState("00:00"),d=Object(l.a)(o,2),m=d[0],O=d[1],f=s.a.useState(""),g=Object(l.a)(f,2),v=g[0],N=g[1],I=s.a.useState(0),A=Object(l.a)(I,2),M=A[0],w=A[1],y=s.a.useState(""),Z=Object(l.a)(y,2),S=Z[0],k=Z[1],C=s.a.useState(""),G=Object(l.a)(C,2),z=G[0],E=G[1],R=s.a.useState(0),D=Object(l.a)(R,2),Y=D[0],T=D[1],W=s.a.useState([]),Q=Object(l.a)(W,2),B=Q[0],L=Q[1];s.a.useEffect((function(){if(p.currentUser)return function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h+p.currentUser.uid+"/medicamentos",e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:(n=e.sent)&&L(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()(),function(){};console.log("No existe usuario"),e.history.push("/login")}),[e.history]);var U=Object(u.g)().idCliente,P=function(){var a=Object(b.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return h+"anadir-toma",a.prev=1,a.next=4,t.post("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/anadir-toma").send({hora:m,fecha:i,medicamento:v,cantidad:M,mensaje:S,confirmada:!1,idCliente:U,numDiario:z,diff:Y}).then((function(){e.history.push("/cuidador")}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(){return a.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{"data-testid":"form-at",onSubmit:function(t){t.preventDefault(),P(),e.history.push("/cuidador")},children:[Object(x.jsx)("label",{className:"text-info",children:"Fecha de la toma"},"l1"),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese ua fecha",type:"date",onChange:function(e){return r(e.target.value)},value:i},"i1"),Object(x.jsx)("p",{}),Object(x.jsx)("label",{className:"text-info",children:"Hora de la toma"},"l2"),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese apellidos",type:"time",onChange:function(e){return O(e.target.value)},value:m},"i2"),Object(x.jsx)("p",{}),Object(x.jsx)("label",{className:"text-info",children:"Medicamento"},"l3"),Object(x.jsx)("div",{className:"input-group mb-3",children:Object(x.jsxs)("select",{onChange:function(e){return N(e.target.value)},value:v,className:"custom-select",id:"inputGroupSelect01",children:[Object(x.jsx)("option",{disabled:!0,value:"",children:"Elige un medicamento"}),B.length>0?B.map((function(e){return Object(x.jsx)("option",{value:e.nombre,children:e.nombre},e.nombre)})):null]})}),Object(x.jsx)("p",{}),Object(x.jsx)("label",{className:"text-info",children:"Cantidad o dosis"},"l4"),Object(x.jsx)("input",{className:"form-control",type:"number",placeholder:"Ingrese la cantidad o la dosis de la toma",onChange:function(e){return w(parseInt(e.target.value)?parseInt(e.target.value):"")},value:M},"i4"),Object(x.jsx)("p",{}),Object(x.jsx)("label",{className:"text-info",children:"Mensaje"},"l5"),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese un mensaje",onChange:function(e){return k(e.target.value)},value:S},"i5"),Object(x.jsx)("p",{}),Object(x.jsx)("label",{className:"text-info",children:"Cuantas veces se repite al d\xeda"},"l6"),Object(x.jsx)("input",{className:"form-control",placeholder:"Por defecto, una vez",onChange:function(e){return E(parseInt(e.target.value)?parseInt(e.target.value):"")},value:z},"i6"),Object(x.jsx)("p",{}),Object(x.jsx)("label",{className:"text-info",children:"Horas de diferencia entre cada toma"},"l7"),Object(x.jsx)("input",{className:"form-control",placeholder:"Por defecto, una vez",onChange:function(e){return T(parseInt(e.target.value)?parseInt(e.target.value):"")},value:Y},"i7"),Object(x.jsx)("p",{}),Object(x.jsx)("button",{className:"btn btn-info btn-lg btn-block mt-2",type:"submit",children:"Registrar Toma"},"bt1")]},"f1")})})),f=a(52),g=(a(90),function(e){var t=Object(x.jsx)("div",{className:"text-uppercase text-danger font-weight-bold",children:"Pasado el tiempo de la toma"}),a=Object(x.jsx)("div",{className:"text-uppercase text-success font-weight-bold",children:"A tiempo para la toma"}),n=Object(x.jsxs)("div",{className:"text-uppercase text-warning font-weight-bold",children:["Solo quedan ",e.toma.hora.split(":")[1]-(new Date).getMinutes()," minutos para la toma"]}),c=s.a.useState({dia:"",mes:"","a\xf1o":""}),i=Object(l.a)(c,2),r=i[0],o=i[1],u=s.a.useState({hora:"",min:""}),d=Object(l.a)(u,2),j=d[0],b=d[1],m=s.a.useState({dia:"",mes:"","a\xf1o":"",hora:"",min:""}),h=Object(l.a)(m,2),p=h[0],O=h[1];return s.a.useEffect((function(){o({dia:e.fechaToma.split("-")[2],mes:e.fechaToma.split("-")[1],"a\xf1o":e.fechaToma.split("-")[0]}),b({hora:e.toma.hora.split(":")[0],min:e.toma.hora.split(":")[1]}),O({dia:(new Date).getDate(),mes:(new Date).getMonth()+1,"a\xf1o":(new Date).getFullYear(),hora:(new Date).getHours(),min:(new Date).getMinutes()})}),[e.fechaToma,e.toma.hora]),Object(x.jsx)("div",{children:r.a\u00f1o<p.a\u00f1o||r.mes<p.mes&&r.a\u00f1o<=p.a\u00f1o||r.dia<p.dia&&r.mes<=p.mes||j.hora<p.hora&&r.dia<=p.dia&&r.mes<=p.mes||j.min<p.min&&j.hora<=p.hora&&r.dia<=p.dia&&r.mes<=p.mes?t:p.min-j.min<=30&&j.min>=p.min&&j.hora>=p.hora&&r.dia>=p.dia&&r.mes>=p.mes?n:a})}),v=a(24),N=a(48),I=Object(u.h)((function(e){var t=s.a.useState({hora:"",fecha:"",medicamento:"",cantidad:"",mensaje:"",confirmada:!1,id:""}),n=Object(l.a)(t,2),i=n[0],r=n[1],o=s.a.useState(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=s.a.useState(),O=Object(l.a)(p,2),f=O[0],I=O[1],A=s.a.useState(),M=Object(l.a)(A,2),w=M[0],y=M[1],Z=a(23),S=JSON.parse(localStorage.getItem("sesionCliente"))||null;s.a.useEffect((function(){return r(e.toma),y(e.toma.confirmada),function(){}}),[e.toma,i]);var k=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h+"actualizar-toma",I(i.id),m(!0),y(!0),i.confirmada){t.next=13;break}return t.prev=5,t.next=8,Z.post("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/actualizar-toma").send({confirmada:!0,idCliente:e.idCliente,idToma:i.id}).then((function(){setTimeout(C,2e3)}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}();function C(){window.location.replace("")}return Object(x.jsx)("div",{children:i?Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(g,{fechaToma:e.fecha,toma:e.toma}),"Medicamento: ",i.medicamento,Object(x.jsx)("br",{}),"Dosis: ",i.cantidad," "," "," unidades",Object(x.jsx)("br",{}),"Hora de la toma: ",i.hora,Object(x.jsx)("br",{}),"Mensaje adjunto: ",i.mensaje,Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:w?"font-weight-bold text-success":"font-weight-bold",children:["Toma confirmada: ",w?"si":"no"]}),Object(x.jsx)("p",{}),Object(x.jsx)(v.a,{show:d&&i.id===f,variant:"success",children:"Has confirmado la toma"}),null===S&&!i.confirmada||null!==S&&!i.confirmada&&i.fecha.split("-")[2]>=(new Date).getDate()?Object(x.jsx)(N.a,{onClick:function(){return k(i)},children:"Confirmar toma"}):null,Object(x.jsx)("hr",{})]}):null})})),A=function(e){var t=s.a.useState(new Date),a=Object(l.a)(t,2),n=a[0],i=a[1],r=s.a.useState([]),u=Object(l.a)(r,2),d=u[0],m=u[1],p=s.a.useState([]),O=Object(l.a)(p,2),g=O[0],N=O[1],A=s.a.useState(new Date),M=Object(l.a)(A,2),w=M[0],y=M[1],Z=s.a.useState(!0),S=Object(l.a)(Z,2),k=S[0],C=S[1],G=s.a.useState([]),z=Object(l.a)(G,2),E=z[0],R=z[1],D=function(e,t,a){var n="";return n=t<10?e+"-0"+t:e+"-"+t,n=a<10?n+"-0"+a:n+"-"+a},Y=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,c,s,i,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.getDate(),c=a.getMonth()+1,s=a.getFullYear(),i=D(s,c,n),y(i),r=h+e.cliente+"/tomas/"+i,function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r);case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&m(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s.a.useEffect((function(){var t=h+e.cliente+"/tomas/";(function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent)&&N(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[e.cliente]),s.a.useEffect((function(){R(g.filter((function(e){return!e.confirmada})))}),[g]),Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"container mt-1",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-sm text-center",children:[Object(x.jsx)("h3",{className:"text-info text-left ml-4",children:"Revisa tus tomas"}),Object(x.jsx)("div",{className:"ml-4",children:Object(x.jsx)(f.a,{tileContent:function(e){var t=e.date;e.view;return g.find((function(e){return(e.fecha.split("-")[2].split("0")[1]===t.getDate()+""&&e.fecha.split("-")[1].split("0")[1]===t.getMonth()+1+""&&e.fecha.split("-")[0]===t.getFullYear()+""||e.fecha.split("-")[2]===t.getDate()+""&&e.fecha.split("-")[1].split("0")[1]===t.getMonth()+1+""&&e.fecha.split("-")[0]===t.getFullYear()+""||e.fecha.split("-")[2]===t.getDate()+""&&e.fecha.split("-")[1]===t.getMonth()+1+""&&e.fecha.split("-")[0]===t.getFullYear()+"")&&!e.confirmada}))?Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{}),Object(x.jsx)("img",{align:"left",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoFWNgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0QRiF8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDktMDVUMjI6Mjc6NDQrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzU0NzUzYjktOTQ5ZC0yODRjLWI0N2MtZjdjNWE0ZmRkNDZiIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NGI4MjM3MzktNDhjMS1jOTQwLTkxMDQtMTE2YzAzMTM2ZDJkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzAxMTNjOTAtNjBmYy1mYTQwLTk0NGUtYzg5ZTViMDllOTI3IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzAxMTNjOTAtNjBmYy1mYTQwLTk0NGUtYzg5ZTViMDllOTI3IiBzdEV2dDp3aGVuPSIyMDIxLTA5LTA1VDIyOjI3OjQ0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozNTQ3NTNiOS05NDlkLTI4NGMtYjQ3Yy1mN2M1YTRmZGQ0NmIiIHN0RXZ0OndoZW49IjIwMjEtMDktMDVUMjI6Mjc6NDQrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+09JPnwAAAGBJREFUGBlj+H+QnQ2IdYG4Eoj3APF9KN4DFQPJsTEACW0gLgPiM0D8FYj/Q/FXqBhIThuksBqILyEpQMcguWqQwuNA/BePQpDccZDCF3gUwfALkhQSbTXRniE6eIgKcABlCQAoWY9gTgAAAABJRU5ErkJggg==",alt:"no-confirmada"})]}):g.find(function(e){return e.fecha.split("-")[2].split("0")[1]===t.getDate()+""&&e.fecha.split("-")[1].split("0")[1]===t.getMonth()+1+""&&e.fecha.split("-")[0]===t.getFullYear()+""}||function(e){return e.fecha.split("-")[2]===t.getDate()+""&&e.fecha.split("-")[1].split("0")[1]===t.getMonth()+1+""&&e.fecha.split("-")[0]===t.getFullYear()+""}||function(e){return e.fecha.split("-")[2]===t.getDate()+""&&e.fecha.split("-")[1]===t.getMonth()+1+""&&e.fecha.split("-")[0]===t.getFullYear()+""})?Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{}),Object(x.jsx)("img",{align:"left",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoFWNgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0QRiF8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGtWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wOS0wNVQyMjozMTo1NyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDktMDVUMjI6MzE6NTcrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTMzZjdlZTEtOWIyNy04MjQ4LTgzYWItYmRlNzNlY2ZiYzEwIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZmM0MTFiYWUtNTBkYi0wMzQzLTk0YzAtM2JiYjliMDg1NzY1IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzAxMTNjOTAtNjBmYy1mYTQwLTk0NGUtYzg5ZTViMDllOTI3IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmMwMTEzYzkwLTYwZmMtZmE0MC05NDRlLWM4OWU1YjA5ZTkyNyIgc3RFdnQ6d2hlbj0iMjAyMS0wOS0wNVQyMjoyNzo0NCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MzU0NzUzYjktOTQ5ZC0yODRjLWI0N2MtZjdjNWE0ZmRkNDZiIiBzdEV2dDp3aGVuPSIyMDIxLTA5LTA1VDIyOjI3OjQ0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMzNmN2VlMS05YjI3LTgyNDgtODNhYi1iZGU3M2VjZmJjMTAiIHN0RXZ0OndoZW49IjIwMjEtMDktMDVUMjI6MzE6NTcrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+z7xxugAAAF1JREFUGBlj+H+Qne3XAQ69pHWmR81WOv7UWO76H4RBbJAYSA6khgHI0HFYZfcIpgAdg+RAahiS15kcxaUIhkFqGMxXOv4ipBCkhoGQIhgmXiHRVhPtGaKDh9gABwDyF80B8mPbIgAAAABJRU5ErkJggg==",alt:"confirmada"})]}):void 0},onChange:i,value:n,defaultView:"month",onClickDay:function(e,t){return Y(e)}})}),e.cuidador?Object(x.jsx)("div",{className:"mt-2 text-left ml-4",children:Object(x.jsx)(o.b,{className:"btn btn-info",to:"/historial/".concat(e.cliente),children:"Historial de tomas"})}):null,Object(x.jsx)("div",{className:"mt-2",children:k&&E.length>0&&e.cuidador?Object(x.jsx)(v.a,{variant:"warning",onClose:function(){return C(!1)},dismissible:!0,children:Object(x.jsxs)("p",{children:["\xa1El cliente tiene ",E.length," tomas pendientes!"]})},4353):null})]}),Object(x.jsxs)("div",{className:"col-sm",children:[Object(x.jsx)("h3",{className:"text-info",children:"Tomas"}),d.length>0?Object(x.jsx)(c.Fragment,{children:d.map((function(t,a){return Object(x.jsx)("div",{children:Object(x.jsx)(I,{cuidador:e.cuidador,toma:t,idCliente:e.cliente,fecha:w})},a)}))}):"No hay tomas este d\xeda"]})]})})})},M=Object(u.h)((function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),n=a[0],c=a[1],i=s.a.useState([]),r=Object(l.a)(i,2),u=r[0],d=r[1],m=p.currentUser.uid,O=h+"clientes/"+m;s.a.useEffect((function(){if(p.currentUser)return function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O);case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){};e.history.push("/login")}),[e.history,O]);var f=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h);case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"mt-5 container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-sm",children:Object(x.jsx)("button",{onClick:function(){return e.history.push("/nuevo-paciente"),void f()},className:"btn btn-primary",children:"+ A\xf1adir cliente"})}),Object(x.jsx)("div",{className:"col-sm",children:Object(x.jsx)("h2",{className:"text-info font-weight-bold",children:"Gestionar Clientes"})}),Object(x.jsx)("div",{className:"col-sm text-right",children:Object(x.jsx)(o.b,{className:"btn btn-primary",to:"/medicamentos/".concat(m),children:"Medicamentos"})})]})}),n.length<=0||null===n?"No hay clientes que mostrar":n.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"card mb-2",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("div",{className:"container mt-1",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-sm",children:Object(x.jsxs)("div",{className:"text-left mb-3 float-left",children:[Object(x.jsx)("h5",{children:Object(x.jsx)(o.b,{className:"font-weight-bold text-info text-uppercase mr-5",to:"/info-cliente/".concat(e.id),children:e.nombre+" "+e.apellidos})}),Object(x.jsx)("button",{className:"btn btn-info",onClick:function(){return function(e){var t=n.slice();t.map((function(a,n){return t[n]=e===n})),d(t)}(t)},children:"Ver tomas"}),Object(x.jsx)(o.b,{className:"btn btn-info ml-1",to:"/anadir-toma/".concat(e.id),children:"A\xf1adir toma"}),Object(x.jsx)(o.b,{className:"btn btn-info ml-1",to:"/zona-control/".concat(e.id),children:"Definir zona de control"})]})}),Object(x.jsx)("div",{className:"col-sm",children:void 0!==e.info?Object(x.jsxs)("div",{className:"text-left",children:[Object(x.jsxs)("h5",{className:"card-subtitle mb-2 text-info",children:[Object(x.jsx)("b",{children:"Peso:"})," ",e.info.peso," kg"]},t+4),Object(x.jsxs)("h5",{className:"card-subtitle mb-2 text-info",children:[Object(x.jsx)("b",{children:"Presi\xf3n sangu\xednea:"})," ",e.info.presionMax,"/",e.info.presionMin," mmHg"]},t+6),Object(x.jsxs)("h5",{className:"card-subtitle mb-3 text-info",children:[Object(x.jsx)("b",{children:"Nivel de glucosa:"})," ",e.info.glucosa," mg/dl"]},t+5)]}):Object(x.jsx)("div",{className:"text-info",children:"No se ha tomado medidas"})})]})}),u[t]?Object(x.jsx)(A,{cuidador:p.currentUser.email,cliente:e.id}):null]},t+2)},t+1)},t)}))]})})),w=Object(u.h)((function(e){var t=a(23),n=s.a.useState(e.cliente.nombre),c=Object(l.a)(n,2),i=c[0],r=c[1],o=s.a.useState(e.cliente.apellidos),u=Object(l.a)(o,2),d=u[0],m=u[1],p=s.a.useState(e.cliente.direccion),O=Object(l.a)(p,2),f=O[0],g=O[1],v=s.a.useState(e.cliente.codPostal),N=Object(l.a)(v,2),I=N[0],A=N[1],M=s.a.useState(e.cliente.ciudad),w=Object(l.a)(M,2),y=w[0],Z=w[1],S=s.a.useState(e.cliente.edad),k=Object(l.a)(S,2),C=k[0],G=k[1],z=s.a.useState(e.cliente.email),E=Object(l.a)(z,2),R=E[0],D=E[1],Y=s.a.useState(""),T=Object(l.a)(Y,2),W=T[0],Q=T[1],B=s.a.useState(e.cliente.descripcion),L=Object(l.a)(B,2),U=L[0],P=L[1],J=s.a.useState(e.cliente.tlf),F=Object(l.a)(J,2),X=F[0],V=F[1],H=function(){var a=Object(b.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return h+"editar-cliente",a.prev=1,a.next=4,t.post("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/editar-cliente").send({nombre:i,apellidos:d,direccion:f,codPostal:I,ciudad:y,edad:C,descripcion:U,telf:X,email:R,pass:W,idcliente:e.idCliente}).then((function(){e.history.push("/cuidador")}));case 4:e.history.push("/cuidador"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(){return a.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),H(),e.history.push("/cuidador")},children:[Object(x.jsx)("label",{className:"text-info",children:"Nombre:"}),Object(x.jsx)("input",{className:"form-control",placeholder:"Introduce un nombre",onChange:function(e){return r(e.target.value)},value:i}),Object(x.jsx)("label",{className:"text-info",children:"Apellidos:"}),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese apellidos",onChange:function(e){return m(e.target.value)},value:d}),Object(x.jsx)("label",{className:"text-info",children:"Direcci\xf3n:"}),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese la direcci\xf3n",onChange:function(e){return g(e.target.value)},value:f}),Object(x.jsx)("label",{className:"text-info",children:"Ciudad:"}),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese la ciudad",onChange:function(e){return Z(e.target.value)},value:y}),Object(x.jsx)("label",{className:"text-info",children:"C\xf3digo Postal:"}),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese el c\xf3digo postal",onChange:function(e){return A(parseInt(e.target.value)?parseInt(e.target.value):"")},value:I}),Object(x.jsx)("label",{className:"text-info",children:"Edad:"}),Object(x.jsx)("input",{className:"form-control",type:"number",placeholder:"Ingrese la edad",onChange:function(e){return G(parseInt(e.target.value)?parseInt(e.target.value):"")},value:C}),Object(x.jsx)("label",{className:"text-info",children:"Descripci\xf3n:"}),Object(x.jsx)("textarea",{className:"form-control",type:"textarea",placeholder:"Ingrese una descripci\xf3n",onChange:function(e){return P(e.target.value)},value:U}),Object(x.jsx)("label",{className:"text-info",children:"Tel\xe9fono:"}),Object(x.jsx)("input",{className:"form-control",placeholder:"Ingrese un tel\xe9fono de contacto",onChange:function(e){return V(parseInt(e.target.value)?parseInt(e.target.value):"")},value:X}),Object(x.jsx)("label",{className:"text-info",children:"Email:"}),Object(x.jsx)("input",{type:"email",className:"form-control",placeholder:"Ingrese un email",onChange:function(e){return D(e.target.value)},value:R}),Object(x.jsx)("label",{className:"text-info",children:"Contrase\xf1a de acceso:"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Ingrese una contrase\xf1a",onChange:function(e){return Q(e.target.value)},value:W}),Object(x.jsx)("button",{className:"btn btn-info btn-lg btn-block mt-2",type:"submit",children:"Editar Paciente"})]})})})),y=Object(u.h)((function(e){var t=s.a.useState({}),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Object(u.g)().idCliente,d=s.a.useState(!1),m=Object(l.a)(d,2),O=m[0],f=m[1],g=a(23);s.a.useEffect((function(){if(p.currentUser){var t=h+"cliente/"+r;return function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent)&&i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){}}console.log("No existe usuario"),e.history.push("/login")}),[e.history,r,O]);var v=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h+"/borrar-cliente",t.prev=1,t.next=4,g.delete("https://us-central1-cas-ofi.cloudfunctions.net/expressApi//borrar-cliente").send({idCliente:r}).then((function(){e.history.push("/cuidador")}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"mt-4 text-info font-weight-bold",children:"Datos del cliente"}),Object(x.jsxs)("div",{className:"card mb-2",children:[Object(x.jsxs)("div",{className:"card-header",children:[Object(x.jsxs)("h4",{className:"card-title font-weight-bold float-left",children:[c.nombre," ",c.apellidos]}),Object(x.jsx)("div",{className:"text-right",children:Object(x.jsx)("button",{className:"btn btn-info",onClick:function(){return v(r)},children:"Borrar cliente"})})]}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("h5",{className:"card-subtitle mb-2 text-muted float-left",children:[Object(x.jsx)("b",{children:"Direcci\xf3n:"})," ",c.direccion]}),Object(x.jsxs)("h5",{className:"card-subtitle mb-2 text-muted text-right",children:[Object(x.jsx)("b",{children:"Ciudad/Provincia: "}),c.ciudad,"   ",Object(x.jsx)("b",{children:"C\xf3digo Postal: "}),c.codPostal]}),Object(x.jsx)("p",{}),Object(x.jsxs)("h5",{className:"card-subtitle mb-2 text-muted text-left",children:[Object(x.jsx)("b",{children:"Correo electr\xf3nico:"})," ",c.email]}),Object(x.jsxs)("p",{className:"card-text justify-content-center",children:[Object(x.jsx)("b",{children:"Descripci\xf3n:"})," ",c.descripcion]})]}),Object(x.jsxs)("div",{className:"card-footer text-muted font-weight-bold",children:[Object(x.jsx)("div",{className:"float-left mt-1",children:c.tlf}),Object(x.jsx)("div",{className:"text-right",children:Object(x.jsx)(o.b,{className:"btn btn-info",to:"/mensajeria/".concat(r),children:"Mandar mensaje"})})]})]}),Object(x.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(x.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(x.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",onClick:function(){return f(!O)},children:"Editar Cliente"})]}),O?Object(x.jsx)(w,{idCliente:r,cliente:c}):null]})})),Z=a(49),S=a.n(Z),k=s.a.createContext(),C=function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),n=a[0],c=a[1];s.a.useEffect((function(){if(localStorage.getItem("sesionCliente")){var e=JSON.parse(localStorage.getItem("sesionCliente"));c(e)}}),[]);return Object(x.jsx)(k.Provider,{value:{cliente:n,actualizarCliente:function(e){e?(c(e.id),localStorage.setItem("sesionCliente",JSON.stringify(e.id))):localStorage.clear()}},children:e.children})},G=s.a.createContext(),z=function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),n=a[0],c=a[1];s.a.useEffect((function(){if(localStorage.getItem("cuidador")){var e=JSON.parse(localStorage.getItem("cuidador"));c(e)}}),[]);return Object(x.jsx)(G.Provider,{value:{cuidador:n,actualizarCuidador:function(e){e?(c(e),localStorage.setItem("cuidador",JSON.stringify(e))):localStorage.clear()}},children:e.children})},E=Object(u.h)((function(e){var t=a(23),n=s.a.useState(""),c=Object(l.a)(n,2),i=c[0],r=c[1],o=s.a.useState(""),u=Object(l.a)(o,2),d=u[0],m=u[1],O=s.a.useState(null),f=Object(l.a)(O,2),g=f[0],v=f[1],N=s.a.useState(!1),I=Object(l.a)(N,2),A=I[0],M=I[1],w=s.a.useContext(k).actualizarCliente,y=s.a.useContext(G),Z=y.cuidador,C=y.actualizarCuidador,z=s.a.useCallback(function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h+"cuidador/"+t,e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:(c=e.sent)&&C(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),[C]),E=s.a.useCallback(Object(b.a)(j.a.mark((function t(){var a,n,c,s,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h+"login/"+i,n={},t.prev=2,t.next=5,fetch(a);case 5:return c=t.sent,t.next=8,c.json();case 8:(s=t.sent)&&(n=s),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:n[0]?(r=S()(d),n[0].pass===r?(w(n[0]),z(n[0].idCuidador),Z&&e.history.push("/cliente/".concat(n[0].id))):v("Contrase\xf1a incorrecta")):v("Usuario incorrecto");case 16:case"end":return t.stop()}}),t,null,[[2,12]])}))),[i,e.history,d,w,z,Z]),R=s.a.useCallback(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.signInWithEmailAndPassword(i,d);case 3:C({email:i,id:p.currentUser.uid}),e.history.push("/cuidador"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),"auth/invalid-email"===t.t0.code?v("Email no v\xe1lido"):"auth/wrong-password"===t.t0.code?v("Contrase\xf1a incorrecta"):E();case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[i,d,e.history,E,C]),D=s.a.useCallback(Object(b.a)(j.a.mark((function a(){var n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=h+"registro",a.prev=1,a.next=4,p.createUserWithEmailAndPassword(i,d);case 4:return a.next=6,t.post(n).send({email:i,id:p.currentUser.uid}).then((function(){C({email:i,id:p.currentUser.uid}),e.history.push("/cuidador")}));case 6:a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0),"auth/invalid-email"===a.t0.code?v("Email no v\xe1lido"):"auth/email-already-in-use"===a.t0.code&&v("Ya existe una cuenta con ese email");case 12:case"end":return a.stop()}}),a,null,[[1,8]])}))),[i,d,e,t,C]);return Object(x.jsxs)("div",{className:"mt-5",children:[Object(x.jsx)("h3",{className:"text-center text-info",children:A?"Registro de Cuidador":"Acceso de Cuidador"}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"row justify-content-center",children:Object(x.jsx)("div",{className:"col-12 col-sm-8 col-md-6 col-xl-4",children:Object(x.jsxs)("form",{id:"registro-form",onSubmit:function(e){e.preventDefault(),i.trim()?d.trim()?d.length<6?v("La contrase\xf1a debe tener m\xe1s de 5 car\xe1cteres"):(v(null),A?D():R()):v("Ingrese una contrase\xf1a"):v("Ingrese un email")},children:[g&&Object(x.jsx)("div",{className:"alert alert-danger",children:g}),"Email",Object(x.jsx)("input",{type:"email",className:"form-control mt-2",placeholder:"Ingrese un email",onChange:function(e){return r(e.target.value)},value:i}),"Contrase\xf1a",Object(x.jsx)("input",{type:"password",className:"form-control mt-2",placeholder:"Ingrese una contrase\xf1a",onChange:function(e){return m(e.target.value)},value:d}),Object(x.jsx)("button",{className:"btn btn-info btn-lg btn-block mt-2",type:"submit",children:A?"Registrarse":"Iniciar sesi\xf3n"}),Object(x.jsx)("button",{className:"btn btn-secondary btn-sm btn-block",onClick:function(){return r(""),m(""),v(null),void M(!A)},type:"button",children:A?"\xbfYa registrado?":"\xbfRegistrarse?"}),A?null:Object(x.jsx)("button",{className:"btn btn-link btn-block",onClick:function(){return e.history.push("/resetPsw")},children:"\xbfOlvidaste la contrase\xf1a?"})]})})})]})})),R=Object(u.h)((function(e){var t=s.a.useContext(k).actualizarCliente,a=s.a.useContext(G).actualizarCuidador,n="/cliente/"+JSON.parse(localStorage.getItem("sesionCliente"));return Object(x.jsxs)("div",{className:"navbar bg-light",children:[Object(x.jsx)(o.b,{to:"/",className:"navbar-brand ml-2 text-info",children:"CAS"}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"d-flex",children:[Object(x.jsx)(o.c,{className:"btn btn-info mr-2",to:"/",exact:!0,children:"Inicio"}),null!==e.firebaseUser?Object(x.jsx)(o.c,{className:"btn btn-info mr-2",to:"/cuidador",children:"Panel de cuidador"}):null,localStorage.getItem("sesionCliente")?Object(x.jsx)(o.c,{className:"btn btn-info mr-2",to:n,children:"Ver mi calendario"}):null,null!==e.firebaseUser||localStorage.getItem("sesionCliente")?Object(x.jsx)("button",{className:"btn btn-info",onClick:function(){return t(null),a(null),void p.signOut().then((function(){e.history.push("/login")}))},children:"Cerrar Sesi\xf3n"}):Object(x.jsx)(o.c,{className:"btn btn-info",to:"/login",children:"Login"})]})})]})})),D=a(97),Y=Object(u.h)((function(e){var t=a(23),n=s.a.useState(null),c=Object(l.a)(n,2),i=c[0],r=c[1],o=s.a.useContext(G).cuidador,u=s.a.useState(""),d=Object(l.a)(u,2),m=d[0],O=d[1],f=s.a.useState(""),g=Object(l.a)(f,2),v=g[0],N=g[1],I=s.a.useState(""),A=Object(l.a)(I,2),M=A[0],w=A[1],y=s.a.useState(0),Z=Object(l.a)(y,2),S=Z[0],k=Z[1],C=s.a.useState(""),z=Object(l.a)(C,2),E=z[0],R=z[1],Y=s.a.useState(0),T=Object(l.a)(Y,2),W=T[0],Q=T[1],B=s.a.useState(""),L=Object(l.a)(B,2),U=L[0],P=L[1],J=s.a.useState(""),F=Object(l.a)(J,2),X=F[0],V=F[1],H=s.a.useState(""),K=Object(l.a)(H,2),q=K[0],_=K[1],$=s.a.useState(0),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=s.a.useState(null),ce=Object(l.a)(ne,2),se=ce[0],ie=ce[1];s.a.useEffect((function(){p.currentUser?r(p.currentUser):(console.log("No existe usuario"),e.history.push("/login"))}),[i,e.history]);var re=function(){var a=Object(b.a)(j.a.mark((function a(){var n,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(D.a)(),c=h+o.id+"/nuevo-cliente",a.prev=2,a.next=5,t.post(c).send({nombre:m,apellidos:v,direccion:M,codPostal:S,ciudad:E,edad:W,idCuidador:o.id,email:U,pass:X,idCliente:n,descripcion:q,telf:te}).then((function(){e.history.push("/cuidador")})).then((function(e){"Email ya existente"===e.text&&P("El email ya existe")}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(){return a.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.trim()?v.trim()?M.trim()?E.trim()?!S>0?ie("Ingrese el c\xf3digo postal del cliente"):!te>0?ie("Ingrese un n\xfamero de tel\xe9fono"):U.trim()?X.trim()?X.length<6?ie("La contrase\xf1a debe tener m\xe1s de 5 car\xe1cteres"):(ie(null),re()):ie("Ingrese una contrase\xf1a"):ie("Ingrese un email"):ie("Ingrese la ciudad del cliente"):ie("Ingrese la direcci\xf3n del cliente"):ie("Ingrese al menos un apellido"):ie("Ingrese un nombre")},children:[se&&Object(x.jsx)("div",{className:"alert alert-danger",children:se}),"Nombre:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese un nombre",onChange:function(e){return O(e.target.value)},value:m}),"Apellidos:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese apellidos",onChange:function(e){return N(e.target.value)},value:v}),"Direcci\xf3n:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese la direcci\xf3n",onChange:function(e){return w(e.target.value)},value:M}),"Ciudad/Localidad/Municipio:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese la ciudad",onChange:function(e){return R(e.target.value)},value:E}),"C\xf3digo Postal:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese el c\xf3digo postal",onChange:function(e){return k(parseInt(e.target.value)?parseInt(e.target.value):"")},value:S}),"Edad:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese la edad",onChange:function(e){return Q(parseInt(e.target.value)?parseInt(e.target.value):"")},value:W}),"Descripci\xf3n:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese una descripci\xf3n del paciente",onChange:function(e){return _(e.target.value)},value:q}),"Tel\xe9fono:",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese un tel\xe9fono de contacto",onChange:function(e){return ae(parseInt(e.target.value)?parseInt(e.target.value):"")},value:te}),"Email:",Object(x.jsx)("input",{type:"email",className:"form-control mt-2",placeholder:"Ingrese un email",onChange:function(e){return P(e.target.value)},value:U}),"Contrase\xf1a de acceso:",Object(x.jsx)("input",{type:"password",className:"form-control mt-2",placeholder:"Ingrese una contrase\xf1a",onChange:function(e){return V(e.target.value)},value:X}),Object(x.jsx)("button",{className:"btn btn-info btn-lg btn-block mt-2",type:"submit",children:"Registrar Cliente"})]})})})),T=Object(u.h)((function(e){var t=s.a.useState({}),n=Object(l.a)(t,2),c=n[0],i=n[1],r=s.a.useState(""),u=Object(l.a)(r,2),d=u[0],m=u[1],p=s.a.useState(""),O=Object(l.a)(p,2),f=O[0],g=O[1],v=s.a.useState(""),N=Object(l.a)(v,2),I=N[0],A=N[1],M=s.a.useState(""),w=Object(l.a)(M,2),y=w[0],Z=w[1],S=s.a.useState(!1),k=Object(l.a)(S,2),C=k[0],G=k[1],z=a(23),E=Object(x.jsx)("div",{className:"text-warning",children:Object(x.jsx)("b",{children:"Tiene la glucosa demasiado baja. Por favor, consulte lo antes posible a su m\xe9dico."})}),R=Object(x.jsx)("div",{className:"text-warning",children:Object(x.jsx)("b",{children:"Tiene la glucosa demasiado alta. Por favor, consulte lo antes posible a su m\xe9dico."})}),D=Object(x.jsx)("div",{className:"text-warning",children:Object(x.jsx)("b",{children:"Tiene la tensi\xf3n demasiado baja. Por favor, consulte lo antes posible a su m\xe9dico."})}),Y=Object(x.jsx)("div",{className:"text-warning",children:Object(x.jsx)("b",{children:"Tiene la tensi\xf3n demasiado alta. Por favor, consulte lo antes posible a su m\xe9dico."})}),T=Object(x.jsx)("div",{className:"text-warning",children:Object(x.jsx)("b",{children:"Tiene la glucosa y la tensi\xf3n demasiado altas. Por favor, consulte lo antes posible a su m\xe9dico."})}),W=Object(x.jsx)("div",{className:"text-warning",children:Object(x.jsx)("b",{children:"Tiene la glucosa y la tensi\xf3n demasiado bajas. Por favor, consulte lo antes posible a su m\xe9dico."})});s.a.useEffect((function(){i(e.cliente)}),[i,e.cliente]);var Q=function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h+e.idCliente+"/info",t.prev=1,t.next=4,z.post(a).send({peso:d,presionMax:f,presionMin:I,glucosa:y}).then((function(){i({peso:d,presionMax:f,presionMin:I,glucosa:y}),G(!C),e.history.push("/")}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{"data-testid":"h2-aic",className:"text-info",children:"Datos medidos por el paciente"}),!(null===c||void 0===c?void 0:c.info)||C?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{"data-testid":"form-aic",className:"text-info",onSubmit:Q,children:[Object(x.jsx)("b",{children:"Peso:"})," ",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese su peso en Kg",onChange:function(e){return m(parseInt(e.target.value)?parseInt(e.target.value):"")},value:d}),Object(x.jsx)("b",{children:"Presi\xf3n sangu\xednea m\xe1xima o sist\xf3lica:"})," ",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese la presi\xf3n sangu\xednea en mmHg",onChange:function(e){return g(parseInt(e.target.value)?parseInt(e.target.value):"")},value:f}),Object(x.jsx)("b",{children:"Presi\xf3n sangu\xednea m\xednima o diast\xf3lica:"})," ",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese la presi\xf3n sangu\xednea en mmHg",onChange:function(e){return A(parseInt(e.target.value)?parseInt(e.target.value):"")},value:I}),Object(x.jsx)("b",{children:"Nivel de glucosa:"})," ",Object(x.jsx)("input",{className:"form-control mt-2",placeholder:"Ingrese nicel de glucosa en mg/dL",onChange:function(e){return Z(parseInt(e.target.value)?parseInt(e.target.value):"")},value:y}),Object(x.jsx)("button",{type:"button",className:"btn btn-info mt-3",onClick:function(){return Q()},children:"A\xf1adir datos"})]})}):Object(x.jsxs)("div",{"data-testid":"div1-aic",className:"ml-3 text-info",children:[Object(x.jsx)("b",{children:"Peso:"})," ",c.info.peso," kg ",Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"Presi\xf3n sangu\xednea:"})," ",c.info.presionMax,"/",c.info.presionMin," mmHg",Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"Glucosa en sangre:"})," ",c.info.glucosa," mg/dL ",Object(x.jsx)("br",{}),c.info.presionMax>=180&&c.info.presionMin>=120?Y:c.info.presionMax<=90&&c.info.presionMin<=60?D:c.info.glucosa>=180?R:c.info.glucosa<=70?E:c.info.glucosa>=180&&c.info.presionMax>=180&&c.info.presionMin>=120?T:c.info.glucosa<=70&&c.info.presionMax>=90&&c.info.presionMin>=60?W:null]}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{"data-testid":"div2-aic",className:"custom-control custom-checkbox",children:[Object(x.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(x.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",onClick:function(){return G(!C)},children:"Editar datos"})]}),Object(x.jsx)(o.b,{className:"text-info ml-1",to:"/info-presion",children:"\xbfC\xf3mo tomar la tensi\xf3n?"}),Object(x.jsx)("br",{}),Object(x.jsx)(o.b,{className:"text-info ml-1",to:"/info-glucosa",children:"\xbfC\xf3mo medir el nivel de az\xfacar en sangre?"})]})})),W=function(e){var t=s.a.useState(""),a=Object(l.a)(t,2),n=a[0],c=a[1],i=s.a.useState(!0),r=Object(l.a)(i,2),o=r[0],u=r[1],d=s.a.useState([]),m=Object(l.a)(d,2),p=m[0],O=m[1];return s.a.useEffect((function(){var t=h+e.cliente+"/tomas-caducadas/";(function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,O(n),n.length>0&&c("Se ha saltado alguna toma, revise su calendario, y avise a su cuidador"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[e.cliente]),Object(x.jsx)("div",{"data-testid":"div1",children:o&&p.length>0?Object(x.jsx)(v.a,{variant:"danger",onClose:function(){return u(!1)},dismissible:!0,children:n},3424):null})},Q=function(e){var t=s.a.useState(!0),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(x.jsx)("div",{"data-testid":"div1",children:n&&e.superada?Object(x.jsx)(v.a,{variant:"danger",onClose:function(){return c(!1)},dismissible:!0,children:"Atenci\xf3n, est\xe1 saliendo de su zona"},3424):null})},B=function(e){var t=Object(u.g)().idCliente,a=s.a.useContext(G).cuidador,n=s.a.useState({}),c=Object(l.a)(n,2),i=c[0],r=c[1],d=s.a.useState({}),m=Object(l.a)(d,2),O=m[0],f=m[1],g=s.a.useState(0),v=Object(l.a)(g,2),N=v[0],I=v[1],M=s.a.useState(!1),w=Object(l.a)(M,2),y=w[0],Z=w[1],S=s.a.useState(0),k=Object(l.a)(S,2),C=k[0],z=k[1];return s.a.useEffect((function(){if("geolocation"in navigator){navigator.geolocation.getCurrentPosition((function(e){f(e.coords)}),(function(){console.log("No es posible obtener tu posici\xf3n")}))}else console.log("Geolocalizaci\xf3n no disponible");(function(){var e=Object(b.a)(j.a.mark((function e(){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h+"cliente/"+t,e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:(c=e.sent)&&r(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(b.a)(j.a.mark((function e(){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h+t+"/mensajes-no-leidos",e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:(c=e.sent)&&(p.currentUser?z(c.filter((function(e){return e.id===t})).length):z(c.filter((function(e){return e.id===i.idCuidador})).length)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()();return i.zonacontrol&&(I(function(e,t,a,n){var c=function(e){return e*Math.PI/180},s=c(a-e),i=c(n-t),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(c(e))*Math.cos(c(a))*Math.sin(i/2)*Math.sin(i/2);return(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6378.137).toFixed(3)}(O.latitude,O.longitude,i.zonacontrol.lat,i.zonacontrol.lng)),N>parseInt(i.zonacontrol.radio)&&Z(!0)),function(){}}),[t]),Object(x.jsx)("div",{children:localStorage.getItem("sesionCliente")<=0?window.location.href=window.location+"/login":Object(x.jsxs)(x.Fragment,{children:[(null===i||void 0===i?void 0:i.zonacontrol)?Object(x.jsx)(Q,{superada:y}):null,Object(x.jsx)("div",{"data-testid":"div1",className:"mt-3",children:Object(x.jsx)(W,{cliente:t})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"float-right",children:Object(x.jsxs)(o.b,{className:"btn btn-info",to:"/mensajeria/".concat(t),children:["Chat con el cuidador",Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"textBtnChat",children:1===C?Object(x.jsxs)("div",{children:[C," mensaje no leido"]}):C>1?Object(x.jsxs)("div",{children:[C," mensajes no leidos"]}):null})]})}),Object(x.jsx)("div",{"data-testid":"div2",className:"mt-2",children:Object(x.jsx)(T,{idCliente:t,cliente:i})})]}),Object(x.jsx)("div",{"data-testid":"div3",className:"mt-4",children:a?Object(x.jsx)("div",{children:Object(x.jsx)(A,{cliente:t})}):null})]})})},L=function(){return Object(x.jsx)("div",{"data-testid":"404",children:Object(x.jsx)("h2",{children:"404 Not Found"})})},U=Object(u.h)((function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(u.g)().idCliente,o=h+"historial/"+r;return s.a.useEffect((function(){p.currentUser?function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(o);case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&i(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()():e.history.push("/login");return function(){}}),[e.history,o]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"text-center text-info",children:"Historial de tomas"}),n.length<=0?Object(x.jsx)("div",{children:"No hay tomas"}):Object(x.jsx)(c.Fragment,{children:n.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"card mb-2",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h4",{className:"card-title",children:e.medicamento},t+3),Object(x.jsxs)("h5",{className:"card-subtitle mb-2 text-muted",children:["Se tom\xf3 el ",e.fecha," a las ",e.hora]},t+4),Object(x.jsx)("p",{className:"card-text",children:e.mensaje},t+5),"Dosis tomada: ",e.cantidad]},t+2)},t+1)},t)}))})]})})),P=a(53),J=function(){return Object(x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABJmlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAwb4do2BEURf1gWZxUAa4EouKCoB0n+A2CgltTiZgYHRAMjOLi8pAIozzgGyRZKywewNIHZRSJAzkH0EyOZLh7CvgNhJEPYTELsI6Akg+wtIfTqYzcQBNgfClgGxS1IrQPYyOOcXVBZlpmeUKBhaWloqOKbkJ6UqBFcWl6TmFit45iXnFxXkFyWWpKYA1ULcBwaCEIWgENMAarTQZKAyAMUDhPU5EBy+jGJnEGIIkFxaVAZlMjIZE+YjzJgjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745AMDGT/0ZOjZcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKZmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDgtMjlUMTQ6MjI6MDErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA4LTI5VDE2OjA2OjM1KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA4LTI5VDE2OjA2OjM1KzAyOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmJhYTNhMzMxLTRhMDgtYmE0MS04Zjg0LWFhNjg1M2UyNDgwNyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjQ2MzlmNTg4LWY1ZTctZTY0MS05YzM0LWEzYjQzZDYyNmIzMSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjc4OEEyQTI2RDAyNTExRTdBMEFFQzg3OUI2MkJBQjFEIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIHRpZmY6SW1hZ2VXaWR0aD0iOTAwIiB0aWZmOkltYWdlTGVuZ3RoPSI5MDAiIHRpZmY6UGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj0iMiIgdGlmZjpTYW1wbGVzUGVyUGl4ZWw9IjMiIHRpZmY6WFJlc29sdXRpb249IjEvMSIgdGlmZjpZUmVzb2x1dGlvbj0iMS8xIiB0aWZmOlJlc29sdXRpb25Vbml0PSIxIiBleGlmOkV4aWZWZXJzaW9uPSIwMjIxIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iOTAwIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iOTAwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGFiZDVlMTUtYjVlNS04NjQ5LTliOGYtZmEwNWMzYmU2MWY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjc4OEEyQTI2RDAyNTExRTdBMEFFQzg3OUI2MkJBQjFEIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Nzg4QTJBMjZEMDI1MTFFN0EwQUVDODc5QjYyQkFCMUQiLz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGFiZDVlMTUtYjVlNS04NjQ5LTliOGYtZmEwNWMzYmU2MWY2IiBzdEV2dDp3aGVuPSIyMDIxLTA4LTI5VDE0OjIzOjI5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gaW1hZ2UvanBlZyB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiN2QzMjM1ZC03YzE2LTQ1NDctODEzMS1mNTk0Yzg3ZTc1MTIiIHN0RXZ0OndoZW49IjIwMjEtMDgtMjlUMTQ6MjM6MjkrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmJhYTNhMzMxLTRhMDgtYmE0MS04Zjg0LWFhNjg1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",alt:"marca",width:"30"})},F=Object(u.h)((function(e){var t=a(23),n=s.a.useState({lat:0,lng:0,x:0,y:0}),c=Object(l.a)(n,2),i=c[0],r=c[1],o=s.a.useState(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],p=s.a.useState(0),O=Object(l.a)(p,2),f=O[0],g=O[1],v={center:{lat:36.7157414,lng:-4.4296901},zoom:15},N=function(){var a=Object(b.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return h+"control",a.prev=1,a.next=4,t.post("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/control").send({lat:i.lat,lng:i.lng,radio:f,idCliente:e.idCliente}).then((function(){e.history.push("/cuidador")}));case 4:e.history.push("/cuidador"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:["A continuaci\xf3n vas a definir un radio para el control del cliente.",Object(x.jsx)("br",{}),"1\xba - Establece el punto central pinchando en el mapa",d?Object(x.jsxs)("div",{children:["2\xba - Introduce un radio de control en metros: ",Object(x.jsx)("br",{}),Object(x.jsx)("input",{className:"mt-2",type:"number",onChange:function(e){return g(parseInt(e.target.value))},value:f}),Object(x.jsx)("button",{className:"btn btn-info ml-2",type:"submit",onClick:function(){return N()},children:"Confirmar selecci\xf3n"})]}):null,Object(x.jsx)("div",{className:"mt-2",style:{height:"80vh",width:"100%"},children:Object(x.jsx)(P.a,{bootstrapURLKeys:{key:"AIzaSyBtApXxr0sVPQp3rJ5ZpaVjnTRoY8cLj-E",language:"es"},defaultCenter:v.center,defaultZoom:v.zoom,onClick:function(e){var t=e.x,a=e.y,n=e.lat,c=e.lng;e.event;r({lat:n,lng:c,x:t,y:a}),m(!0)},children:Object(x.jsx)(J,{lat:i.lat,lng:i.lng})})})]})})),X=function(e){var t=Object(u.g)().idCliente,a=s.a.useState({}),n=Object(l.a)(a,2),c=n[0],i=n[1];return s.a.useEffect((function(){var e=h+"cliente/"+t;return function(){var t=Object(b.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent)&&i(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){}}),[t]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("h3",{className:"text-info",children:["Define la zona de control para ",c.nombre," ",c.apellidos]}),Object(x.jsx)(F,{idCliente:t})]})},V=a.p+"static/media/esfigmomanometro-de-bolsillo.23700503.jpg",H=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"mt-3 text-info",children:"\xbfC\xf3mo tomar la tensi\xf3n?"}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{className:"text-justify",children:["Para tomar la tensi\xf3n es necesario un esfigmoman\xf3metro parecido al de la imagen (puede ser electr\xf3nico).",Object(x.jsx)("br",{})," Se expresa en dos valores:"]}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{type:"circle",children:"Tensi\xf3n m\xe1xima o sist\xf3lica."}),Object(x.jsx)("li",{type:"circle",children:"Tensi\xf3n m\xednima o diast\xf3lica."})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Pasos:"}),Object(x.jsxs)("ol",{children:[Object(x.jsx)("li",{children:"Ser\xe1 m\xe1s pr\xe1ctico si est\xe1 acompa\xf1ado de alguien que pueda tomarle la presi\xf3n."}),Object(x.jsx)("li",{children:"Es necesario envolver el brazo por encima del codo con un brazal que suele sujetarse con velcro."}),Object(x.jsx)("li",{children:"Una vez colocado y bien ajustado, se hinchar\xe1 usando la perilla de goma a modo de bomba de aire."}),Object(x.jsx)("li",{children:"A continuaci\xf3n, se soltar\xe1 un de aire del brazal, para permitir la circulaci\xf3n."}),Object(x.jsx)("li",{children:"EL primero de los latidos indicar\xe1 la presi\xf3n m\xe1xima de la sangre, correspondiente con la s\xedstole."}),Object(x.jsx)("li",{children:"Seguiremos deshinchando el brazal hasta que el latido se desvanezca."}),Object(x.jsx)("li",{children:"Cuando el latido desaparezca nos mostrar\xe1 la presi\xf3n sanguinea m\xednima o diast\xf3lica."})]})]})]}),Object(x.jsx)("p",{}),Object(x.jsxs)("div",{className:"float-left",children:[Object(x.jsx)("img",{src:V,className:"img-fluid rounded mx-auto d-block",alt:"esfigmomanometro",width:"50%"}),Object(x.jsx)("div",{className:"text-center",children:"Ejemplo de Esfigmoman\xf3metro"})]})]})},K=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"mt-3 text-info",children:"\xbfC\xf3mo medir el az\xfacar en sangre?"}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{className:"text-justify",children:["Para medir el nivel de az\xfacar en sangre se utiliza un medidor que mide la cantidad de glucosa en una gota de sangre.",Object(x.jsx)("br",{})," Niveles anormales de az\xfacar en sangre:"]}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{type:"circle",children:[Object(x.jsx)("b",{children:"Hipoglucemia."})," Conocido como nivel bajo de az\xfacar en la sangre: 70 mg/dL o menos."]}),Object(x.jsxs)("li",{type:"circle",children:[Object(x.jsx)("b",{children:"Hiperglucemia."})," Conocido como nivel alto de az\xfacar en la sangre: M\xe1s de 180 mg/dL."]})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Pasos:"}),Object(x.jsxs)("ol",{children:[Object(x.jsx)("li",{children:"L\xe1vate bien las manos y desinfecta el medidor."}),Object(x.jsx)("li",{children:"Ten a mano el medidor, una tira reactiva, una lanceta y una toallita con alcohol."}),Object(x.jsx)("li",{children:"Frota tus manos para estimular el flujo de sangre a las yemas de los dedos."}),Object(x.jsx)("li",{children:"Enciende el medidor e inserta la tira reactiva."}),Object(x.jsx)("li",{children:"Limpia la yema del dedo con la gasa con alcohol y deja que el alcohol se evapore."}),Object(x.jsx)("li",{children:"Pincha el dedo con la lanceta."}),Object(x.jsx)("li",{children:"Aprieta suavemente la base del dedo hasta que se forme una gota de sangre en la yema del dedo."}),Object(x.jsx)("li",{children:"Coloca la gota de sangre en la tira reactiva."}),Object(x.jsx)("li",{children:"Espera a que el medidor muestre el nivel de az\xfacar en la sangre."}),Object(x.jsx)("li",{children:"Registra los resultados."})]})]})]})]})},q=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("h2",{className:"text-center text-info mt-4",children:"As\xed funciona CAS"})})},_=a.p+"static/media/cliente.87baf9f5.png",$=a.p+"static/media/cuidador.bc131f9c.png",ee=function(){var e=Object(u.g)().idCliente,t=s.a.useState([]),n=Object(l.a)(t,2),c=n[0],i=n[1],r=s.a.useState(""),o=Object(l.a)(r,2),d=o[0],m=o[1],O=a(23);s.a.useEffect((function(){var t=h+e+"/mensajes";return function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent)&&i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[e]);var f=function(){var t=Object(b.a)(j.a.mark((function t(){var a,n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h+e+"/mensajes",t.prev=1,t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:(c=t.sent)&&i(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=null,n=p.currentUser?p.currentUser.uid:e,h+"anadir-mensaje",t.next=6,O.post("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/anadir-mensaje").send({msg:d,fecha:new Date,id:n,idCliente:e}).then((function(){}));case 6:f(),m("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-info text-center",children:"Mensajes"}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-sm",children:[c.length>0?c.map((function(t,a){return Object(x.jsxs)("div",{className:t.id===e?"containerMsg":"containerMsg info",children:[Object(x.jsx)("img",{src:t.id===e?_:$,align:t.id===e?"left":"right",width:"5%",alt:"Avatar"}),Object(x.jsx)("div",{className:(t.id,"border-info"),children:Object(x.jsx)("div",{className:t.id===e?"text-left ml-5":"text-right mr-5",children:t.msg})}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:t.id===e?"time-right":"time-left",children:[t.fecha.substr(0,10)," a las ",t.fecha.substr(11,8)]})]},a)})):null,Object(x.jsxs)("form",{className:"form-group text-center",onSubmit:g,children:[Object(x.jsx)("input",{className:"form-control",value:d,onChange:function(e){return m(e.target.value)},placeholder:"Escribe un mensaje"}),Object(x.jsx)("button",{className:"btn btn-info mt-1 form-control",type:"submit",disabled:!d,children:"enviar"})]})]})})})]})},te=function(){var e=Object(u.g)().idCuidador,t=s.a.useState([]),n=Object(l.a)(t,2),c=n[0],i=n[1],r=s.a.useState(""),o=Object(l.a)(r,2),d=o[0],m=o[1],p=s.a.useState(""),O=Object(l.a)(p,2),f=O[0],g=O[1],v=a(23);s.a.useEffect((function(){var t=h+e+"/medicamentos";return function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent)&&i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[e]);var N=function(){var t=Object(b.a)(j.a.mark((function t(){var a,n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h+e+"/medicamentos",t.prev=1,t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:(c=t.sent)&&i(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=Object(D.a)(),h+"anadir-medicamento",t.next=5,v.post("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/anadir-medicamento").send({nombre:d,descripcion:f,idCuidador:e,id:n}).then((function(){}));case 5:g(""),m(""),N();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h+"borrar-medicamento",t.prev=1,t.next=4,v.delete("https://us-central1-cas-ofi.cloudfunctions.net/expressApi/borrar-medicamento").send({idMed:a.id,idCuidador:e}).then((function(){N()}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-center text-info mt-2",children:"Medicamentos para las tomas"}),Object(x.jsx)("div",{className:"container mt-4 text-info",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col ml-5",children:[Object(x.jsx)("h4",{children:"Listado de medicamentos"}),Object(x.jsx)("div",{children:Object(x.jsx)("ul",{className:"mt-4",children:c.length>0?c.map((function(e,t){return Object(x.jsx)("li",{className:"mt-2",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsxs)("b",{children:[e.nombre,":"]}),Object(x.jsx)("br",{})," ",e.descripcion]}),Object(x.jsx)("div",{className:"col",children:Object(x.jsx)("button",{className:"btn-sm btn-info ml-3",onClick:function(){return A(e)},children:"Borrar"})})]})})},t)})):null})})]}),Object(x.jsxs)("div",{className:"col mr-5",children:[Object(x.jsx)("h4",{className:"text-right",children:"Introducir nuevo medicamento"}),Object(x.jsxs)("form",{onSubmit:I,children:["Nombre: ",Object(x.jsx)("input",{className:"form-control",placeholder:"Introduce un nombre",onChange:function(e){return m(e.target.value)},value:d}),Object(x.jsx)("p",{}),"Descripci\xf3n: ",Object(x.jsx)("textarea",{className:"form-control",placeholder:"Introduce una descripci\xf3n",onChange:function(e){return g(e.target.value)},value:f}),Object(x.jsx)("button",{className:"btn btn-info mt-2 form-control",type:"submit",disabled:!d,children:"A\xf1adir"})]})]})]})})]})},ae=function(){var e=s.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1];return s.a.useEffect((function(){p.onAuthStateChanged((function(e){n(e||null)}))}),[]),!1!==a?Object(x.jsx)(C,{children:Object(x.jsx)(z,{children:Object(x.jsx)(o.a,{children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(R,{firebaseUser:a}),Object(x.jsxs)(u.d,{children:[Object(x.jsx)(u.b,{path:"/login",exact:!0,children:Object(x.jsx)(E,{})}),Object(x.jsx)(u.b,{path:"/cuidador",exact:!0,children:Object(x.jsx)(M,{})}),Object(x.jsx)(u.b,{path:"/nuevo-paciente",exact:!0,children:Object(x.jsx)(Y,{})}),Object(x.jsx)(u.b,{path:"/anadir-toma/:idCliente",exact:!0,children:Object(x.jsx)(O,{})}),Object(x.jsx)(u.b,{path:"/zona-control/:idCliente",exact:!0,children:Object(x.jsx)(X,{})}),Object(x.jsx)(u.b,{path:"/info-cliente/:idCliente",exact:!0,children:Object(x.jsx)(y,{})}),Object(x.jsx)(u.b,{path:"/info-cliente/:idCliente",exact:!0,children:Object(x.jsx)(w,{})}),Object(x.jsx)(u.b,{path:"/historial/:idCliente",exact:!0,children:Object(x.jsx)(U,{})}),Object(x.jsx)(u.b,{path:"/medicamentos/:idCuidador",exact:!0,children:Object(x.jsx)(te,{})}),Object(x.jsx)(u.b,{path:"/cliente",exact:!0,children:Object(x.jsx)(u.a,{to:"/"})}),Object(x.jsx)(u.b,{path:"/cliente/:idCliente",exact:!0,children:Object(x.jsx)(B,{})}),Object(x.jsx)(u.b,{path:"/info-presion",exact:!0,children:Object(x.jsx)(H,{})}),Object(x.jsx)(u.b,{path:"/info-glucosa",exact:!0,children:Object(x.jsx)(K,{})}),Object(x.jsx)(u.b,{path:"/info-cas",exact:!0,children:Object(x.jsx)(q,{})}),Object(x.jsx)(u.b,{path:"/mensajeria/:idCliente",exact:!0,children:Object(x.jsx)(ee,{})}),Object(x.jsxs)(u.b,{path:"/",exact:!0,children:[Object(x.jsx)("h1",{className:"text-center mt-5 font-weight-bold text-info",children:"Bienvenidos a CAS"}),Object(x.jsx)("h3",{className:"text-center",children:"Una aplicaci\xf3n para ayudarte a gestionar las tomas de medicamentos"}),Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)(o.b,{className:"btn btn-info",to:"/info-cas",children:"\xbfC\xf3mo funciona?"})})]}),Object(x.jsx)(u.b,{path:"*",children:Object(x.jsx)(L,{})})]})]})})})}):Object(x.jsx)("h2",{children:"Loading..."})},ne=a(32),ce=a(51),se={position:ne.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:ne.c.SCALE};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(ne.a,Object(n.a)(Object(n.a)({template:ce.a},se),{},{children:Object(x.jsx)(ae,{})}))}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.81b7c9da.chunk.js.map